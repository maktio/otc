{"version":3,"sources":["component/oabi.js","component/common.js","component/utils/jsonrpc.js","component/auditing.js","component/language.js","component/consumer/corders.js","component/basepage.js","component/consumer/marketorders.js","component/business/placeorder.js","component/business/userorders.js","component/business/borders.js","App.js","serviceWorker.js","index.js"],"names":["B2B","require","config","name","contractAddress","github","author","url","document","location","href","logo","protocol","host","contract","serojs","callContract","rpc","JsonRpc","unitMap","Map","oAbi","this","init","Promise","resolve","reject","seropp","rest","unit","get","callback","getInfo","info","language","code0","Blake2B","code1","personal","input","slice","data","Buffer","from","p","alloc","fill","length","buf","update","digest","hex","i","push","toString","join","pk","pkr","pkrCrypto","pkrEncrypt","pkrDecrypt","getAccountDetail","item","PK","mainPKr","MainPKr","Name","balances","Balance","getAccountList","accounts","forEach","index","_method","_args","packData","callParams","to","address","call","callData","res","unPackDataEx","args","tokenName","value","executeData","gasPrice","BigNumber","cy","estimateParam","estimateGas","gas","error","fail","executeContract","pkrs","console","log","seroRpc","rets","self","callMethod","ret","getFullAddress","result","code","flag","pcode","executeMethod","hcodes","hcode","lable","ecode","mcode","orderId","bigToHex","big","minValue","maxValue","price","getDate","num","formatDate","time","Y","getFullYear","M","getMonth","d","h","getHours","m","getMinutes","bytes32ToToken","bytes","substring","String","fromCharCode","apply","showValue","val","decimal","decimalPlaces","trimNumber","dividedBy","pow","toFixed","showPK","len","numberStr","vals","split","charAt","numStr","_params","id","jsonrpc","method","params","axios","post","then","response","catch","cb","AuditingList","props","state","localStorage","getItem","codes","auditingList","setState","list","map","Item","key","style","flex","overflow","textOverflow","whiteSpace","textAlign","onClick","code2","alert","width","height","display","position","text","onPress","audited","border","paddingTop","ref","el","modal","renderHeader","className","Component","set","_lang","indexOf","setItem","e","lang","zh_CN","en_US","be_BY","ja_JP","ko_KR","Date","getTimezoneOffset","change","ok","cancel","button","kyc","title1","msg1","title2","title3","msg3","title4","order","buy","sell","amount","dealAmount","orderType","op","confirm","refuse","pass","tips1","tips2_0","tips2_1","tips2_3","tips2_4","tips3","tips4","tips5","tips6","tips7","tips8","tips9","tips10","tips11","tips12","tabBar","trade","assets","home","account","lastPrice","orderPrice","orderNum","available","openOrders","all","cancelAll","finished","canceled","total","volume","depth","locked","rechange","withdrawal","COrders","orders","accountDetails","myKyc","hasAudited","timer","setInterval","clearInterval","userOrders","sort","a","b","updateTime","nextProps","showOrders","status","multipliedBy","toNumber","userCancel","Header","title","token","extra","float","Body","Footer","type","Basepage","Object","assign","auditedStatus","kycTimer","auditing","placeholder","onChange","event","nameValue","target","codeValue","auditor","registerKyc","cookie","path","maxAge","fetchKyc","needAuditing","urlenc","encodeURIComponent","window","URL","trim","_componentDidMount","commitKyc","values","MarketOrders","sellOrders","buyOrders","tokenList","showSelect","undefined","businessOrders","ids","filter","comparedTo","dealtValue","owner","tabList","fontWeight","color","lockinValue","fontSize","unitName","content","minDealValue","maxDealValue","inline","size","marginRight","options","amountValue","exchangeBuy","exchangeSell","dropdown","menu","stopPropagation","BasePage","Placeorder","disabled","priceValue","match","top","countValue","paddingRight","paddingLeft","min","max","isZero","businessSell","businessBuy","UserOrders","ordersHtml","childs","child","html","conform","checked","confirmed","refused","parseInt","getTime","back","BOrders","timestemp","orderMap","businessOrderId","canCancel","underway","cindex","businessCancel","bind","operation","tabs0","showType","tabs1","App","selectedIndex","isOwner","accountList","actions","mode","rightContent","changAccount","tintColor","onValueChange","tabs","swipeable","initialPage","tab","onTabClick","renderContent","Boolean","hostname","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.f3266d9e.chunk.js","sourcesContent":["import serojs from \"serojs\";\nimport seropp from \"sero-pp\";\nimport {tokenToBytes} from \"./common\";\nimport {JsonRpc} from \"./utils/jsonrpc\";\nimport BigNumber from 'bignumber.js'\n\nimport {Toast} from \"antd-mobile\";\n\nconst B2B = require(\"blake2b\")\n\nconst config = {\n    name: \"OTC\",\n    contractAddress: \"66DnXLHz9je2xwRLV8ehDKGCHf6sTMzu4WeFLWb6JkviwuWci1mbEQQ9xkDCioaXoX9t8RENNFW4bgZXpAm9a2iQ\",\n    github: \"https://github.com/coral-dex/otc\",\n    author: \"otc\",\n    url: document.location.href,\n    logo: document.location.protocol + '//' + document.location.host + '/otc/logo.png'\n};\n\nconst abiJson = [{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_auditor\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hcode\",\"type\":\"bytes32\"},{\"internalType\":\"uint8\",\"name\":\"label\",\"type\":\"uint8\"}],\"name\":\"addLable\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"token\",\"type\":\"string\"}],\"name\":\"addToken\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32[]\",\"name\":\"hcodes\",\"type\":\"bytes32[]\"},{\"internalType\":\"bool\",\"name\":\"status\",\"type\":\"bool\"}],\"name\":\"audited\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"auditingList\",\"outputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"hcode\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"pcode\",\"type\":\"bytes\"}],\"internalType\":\"struct OTC.RetAuditedInfo[]\",\"name\":\"rets\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"auditor\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"tokenName\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minDealValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxDealVlaue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"unit\",\"type\":\"uint8\"}],\"name\":\"businessBuy\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"orderId\",\"type\":\"uint256\"}],\"name\":\"businessCancel\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"tokenName\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"unit\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"myself\",\"type\":\"bool\"}],\"name\":\"businessOrders\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"token\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"dealtValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lockinValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minDealValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxDealValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"timestemp\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"unit\",\"type\":\"uint8\"},{\"internalType\":\"enum Types.OrderType\",\"name\":\"orderType\",\"type\":\"uint8\"},{\"internalType\":\"enum Types.OrderStatus\",\"name\":\"status\",\"type\":\"uint8\"}],\"internalType\":\"struct Types.BusinessOrder\",\"name\":\"order\",\"type\":\"tuple\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"bytes32\",\"name\":\"hcode\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"deals\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"arbitration\",\"type\":\"uint256\"},{\"internalType\":\"uint8[]\",\"name\":\"labels\",\"type\":\"uint8[]\"}],\"internalType\":\"struct Types.RetBusinessOrder[]\",\"name\":\"rets\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"minDealValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxDealVlaue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"unit\",\"type\":\"uint8\"}],\"name\":\"businessSell\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"userOrderId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"mcode\",\"type\":\"bytes\"}],\"name\":\"confirmed\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"mcode\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"orderId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"exchangeBuy\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"mcode\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"orderId\",\"type\":\"uint256\"}],\"name\":\"exchangeSell\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"userOrderId\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"businessWin\",\"type\":\"bool\"}],\"name\":\"executeArbitrate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"userOrderId\",\"type\":\"uint256\"}],\"name\":\"finished\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hcode\",\"type\":\"bytes32\"}],\"name\":\"invalidAudited\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"myKyc\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"},{\"components\":[{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"uint64\",\"name\":\"deals\",\"type\":\"uint64\"},{\"internalType\":\"uint64\",\"name\":\"userRoleArbitrates\",\"type\":\"uint64\"},{\"internalType\":\"uint64\",\"name\":\"businessRoleArbitrates\",\"type\":\"uint64\"},{\"internalType\":\"uint8[]\",\"name\":\"labels\",\"type\":\"uint8[]\"}],\"internalType\":\"struct OTC.Kyc\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"pcode\",\"type\":\"bytes\"}],\"name\":\"needAuditing\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"userOrderId\",\"type\":\"uint256\"}],\"name\":\"orderInfo\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"businessOrderId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"token\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"createTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"updateTime\",\"type\":\"uint256\"},{\"internalType\":\"enum Types.OrderStatus\",\"name\":\"status\",\"type\":\"uint8\"},{\"internalType\":\"enum Types.OrderType\",\"name\":\"orderType\",\"type\":\"uint8\"}],\"internalType\":\"struct Types.UserOrder\",\"name\":\"userOrder\",\"type\":\"tuple\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"token\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"dealtValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lockinValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minDealValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxDealValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"timestemp\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"unit\",\"type\":\"uint8\"},{\"internalType\":\"enum Types.OrderType\",\"name\":\"orderType\",\"type\":\"uint8\"},{\"internalType\":\"enum Types.OrderStatus\",\"name\":\"status\",\"type\":\"uint8\"}],\"internalType\":\"struct Types.BusinessOrder\",\"name\":\"businessOrder\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"userOrderId\",\"type\":\"uint256\"}],\"name\":\"refused\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"bytes32\",\"name\":\"hcode\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"ecode\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"pcode\",\"type\":\"bytes\"}],\"name\":\"registerKyc\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_auditor\",\"type\":\"address\"}],\"name\":\"setAuditor\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"orderId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"name\":\"updatePrice\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"userOrderId\",\"type\":\"uint256\"}],\"name\":\"userCancel\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"bid\",\"type\":\"uint256\"}],\"name\":\"userOrderListByBId\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"businessOrderId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"token\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"createTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"updateTime\",\"type\":\"uint256\"},{\"internalType\":\"enum Types.OrderStatus\",\"name\":\"status\",\"type\":\"uint8\"},{\"internalType\":\"enum Types.OrderType\",\"name\":\"orderType\",\"type\":\"uint8\"}],\"internalType\":\"struct Types.UserOrder\",\"name\":\"order\",\"type\":\"tuple\"},{\"internalType\":\"bytes32\",\"name\":\"hcode\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"mcode\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"arbitration\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"}],\"internalType\":\"struct Types.RetUserOrder[]\",\"name\":\"rets\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"myself\",\"type\":\"bool\"}],\"name\":\"userOrders\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"businessOrderId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"token\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"createTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"updateTime\",\"type\":\"uint256\"},{\"internalType\":\"enum Types.OrderStatus\",\"name\":\"status\",\"type\":\"uint8\"},{\"internalType\":\"enum Types.OrderType\",\"name\":\"orderType\",\"type\":\"uint8\"}],\"internalType\":\"struct Types.UserOrder\",\"name\":\"order\",\"type\":\"tuple\"},{\"internalType\":\"bytes32\",\"name\":\"hcode\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"mcode\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"arbitration\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"}],\"internalType\":\"struct Types.RetUserOrder[]\",\"name\":\"rets\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];\n\nconst contract = serojs.callContract(abiJson, \"66DnXLHz9je2xwRLV8ehDKGCHf6sTMzu4WeFLWb6JkviwuWci1mbEQQ9xkDCioaXoX9t8RENNFW4bgZXpAm9a2iQ\");\n\nconst rpc = new JsonRpc();\n\nconst unitMap = new Map([[0, \"CNY\"], [1, \"USD\"]]);\n\nclass OAbi {\n\n    constructor() {\n        let self = this;\n        self.init = new Promise(\n            (resolve, reject) => {\n                seropp.init(config, function (rest) {\n                    if (rest === 'success') {\n                        return resolve()\n                    } else {\n                        return reject(rest)\n                    }\n                })\n            }\n        )\n    }\n\n    unitName(unit) {\n        return unitMap.get(unit);\n    }\n\n    tokenList() {\n        return [\"SCNY\", \"SUSD\"];\n    }\n\n    initLanguage(callback) {\n        seropp.getInfo(function (info) {\n            callback(info.language);\n        });\n    }\n\n    code1(code0) {\n        return this.Blake2B(\"AHOJ.CODE1\", code0);\n    }\n\n    code2(code1) {\n        return this.Blake2B(\"AHOJ.CODE2\", code1);\n    }\n\n    Blake2B(personal, input) {\n        if (input.slice(0, 2) === '0x') {\n            input = input.slice(2);\n        }\n        const data = Buffer.from(input, \"hex\")\n        const p = Buffer.alloc(16, 0);\n        p.fill(personal, 0, personal.length)\n        const hash = B2B(32, null, null, p)\n        const out = hash.update(data)\n        const buf = out.digest(\"binary\")\n\n        for (var hex = [], i = 0; i < buf.length; i++) {\n            /* jshint ignore:start */\n            hex.push((buf[i] >>> 4).toString(16));\n            hex.push((buf[i] & 0xf).toString(16));\n            /* jshint ignore:end */\n        }\n        return \"0x\" + hex.join(\"\");\n    }\n\n    pkrCrypto(pk, pkr, data, callback) {\n        seropp.pkrCrypto({pk: pk, pkr: pkr, data: data}, callback)\n    }\n\n    pkrEncrypt(pkr, data, callback) {\n        seropp.pkrEncrypt({pkr: pkr, data: data}, callback)\n    }\n\n    pkrDecrypt(pk, data, callback) {\n        seropp.pkrDecrypt({pk: pk, data: data}, callback)\n    }\n\n    accountDetails(pk, callback) {\n        let self = this;\n        seropp.getAccountDetail(pk, function (item) {\n            callback({pk: item.PK, mainPKr: item.MainPKr, name: item.Name, balances: item.Balance})\n        });\n    }\n\n    accountList(callback) {\n        seropp.getAccountList(function (data) {\n            let accounts = [];\n            data.forEach(function (item, index) {\n                accounts.push({\n                    pk: item.PK,\n                    mainPKr: item.MainPKr,\n                    name: item.Name,\n                    balances: item.Balance,\n                })\n            });\n            callback(accounts)\n        });\n    }\n\n    callMethod(contract, _method, from, _args, callback) {\n        let that = this;\n        let packData = contract.packData(_method, _args, true);\n        let callParams = {\n            from: from,\n            to: contract.address,\n            data: packData\n        };\n\n        seropp.call(callParams, function (callData) {\n            if (callData !== \"0x\") {\n                let res = contract.unPackDataEx(_method, callData);\n                if (callback) {\n                    callback(res);\n                }\n            } else {\n                callback(\"0x0\");\n            }\n        });\n    }\n\n    executeMethod(contract, _method, pk, mainPKr, args, tokenName, value, callback) {\n        let that = this;\n\n        let packData = \"0x\";\n        if (\"\" !== _method) {\n            packData = contract.packData(_method, args, true);\n        }\n\n        let executeData = {\n            from: pk,\n            to: contract.address,\n            value: \"0x\" + value.toString(16),\n            data: packData,\n            gasPrice: \"0x\" + new BigNumber(\"1000000000\").toString(16),\n            cy: tokenName,\n        };\n        let estimateParam = {\n            from: mainPKr,\n            to: contract.address,\n            value: \"0x\" + value.toString(16),\n            data: packData,\n            gasPrice: \"0x\" + new BigNumber(\"1000000000\").toString(16),\n            cy: tokenName,\n        };\n\n        seropp.estimateGas(estimateParam, function (gas, error) {\n            if (error) {\n                Toast.fail(\"Failed to execute smart contract\")\n            } else {\n                executeData[\"gas\"] = gas;\n                seropp.executeContract(executeData, function (res, error) {\n                    if (callback) {\n                        callback(res, error)\n                    }\n                })\n            }\n        });\n    }\n\n    getFullAddress(pkrs, callback) {\n        console.log(pkrs);\n        rpc.seroRpc(\"http://150.158.109.143:8545\", \"sero_getFullAddress\", [pkrs], function (rets) {\n            callback(rets);\n        });\n    }\n\n    auditor(from, callback) {\n        let self = this;\n        this.callMethod(contract, 'auditor', from, [], function (ret) {\n            self.getFullAddress([ret[0]], function (rets) {\n                callback(rets.result[ret[0]])\n            });\n        });\n    }\n\n    auditingList(from, callback) {\n        this.callMethod(contract, 'auditingList', from, [], function (ret) {\n            callback(ret.rets)\n        });\n    }\n\n    myKyc(pk, from, callback) {\n        let self = this;\n        this.callMethod(contract, 'myKyc', from, [], function (rets) {\n            if (rets[0] != \"0x0000000000000000000000000000000000000000000000000000000000000000\") {\n                self.pkrCrypto(pk, from, rets[0], function (code) {\n                    console.log(\"myKyc\", rets);\n                    callback(code, rets[1]);\n                })\n            } else {\n                callback(null, 0);\n            }\n            callback(rets[0] != \"0x0000000000000000000000000000000000000000000000000000000000000000\" ? rets[0] : null, rets[1]);\n        });\n    }\n\n    businessOrders(from, tokenName, unit, flag, callback) {\n        this.callMethod(contract, 'businessOrders', from, [tokenName, unit, flag], function (ret) {\n            callback(ret.rets);\n        });\n    }\n\n    userOrders(from, flag, callback) {\n        this.callMethod(contract, 'userOrders', from, [flag], function (ret) {\n            console.log(\"userOrders\", ret);\n            callback(ret.rets);\n        });\n    }\n\n    needAuditing(pk, mainPKr, pcode, callback) {\n        this.executeMethod(contract, 'needAuditing', pk, mainPKr, [pcode], \"SERO\", 0, callback);\n    }\n\n    audited(pk, mainPKr, hcodes, flag, callback) {\n        this.executeMethod(contract, 'audited', pk, mainPKr, [hcodes, flag], \"SERO\", 0, callback);\n    }\n\n    invalidAudited(pk, mainPKr, hcode, callback) {\n        this.executeMethod(contract, 'invalidAudited', pk, mainPKr, [hcode], \"SERO\", 0, callback);\n    }\n\n    addLable(pk, mainPKr, hcode, lable, callback) {\n        this.executeMethod(contract, 'addLable', pk, mainPKr, [hcode, lable], \"SERO\", 0, callback);\n    }\n\n    registerKyc(pk, mainPKr, name, hcode, ecode, pcode, callback) {\n        this.executeMethod(contract, 'registerKyc', pk, mainPKr, [name, hcode, ecode, pcode], \"SERO\", 0, callback);\n    }\n\n    exchangeBuy(pk, mainPKr, mcode, orderId, value, callback) {\n        this.executeMethod(contract, 'exchangeBuy', pk, mainPKr, [mcode, this.bigToHex(orderId), this.bigToHex(value)], \"SERO\", 0, callback);\n    }\n\n    exchangeSell(pk, mainPKr, mcode, orderId, tokenName, value, callback) {\n        console.log(\"exchangeSell\", mcode, orderId, tokenName);\n        this.executeMethod(contract, 'exchangeSell', pk, mainPKr, [mcode, this.bigToHex(orderId)], tokenName, value, callback);\n    }\n\n    bigToHex(big) {\n        return \"0x\" + new BigNumber(big).toString(16)\n    }\n\n    businessSell(pk, mainPKr, tokenName, value, minValue, maxValue, price, unit, callback) {\n        this.executeMethod(contract, 'businessSell', pk, mainPKr, [this.bigToHex(minValue), this.bigToHex(maxValue), this.bigToHex(price), unit], tokenName, value, callback);\n    }\n\n    businessBuy(pk, mainPKr, tokenName, value, minValue, maxValue, price, unit, callback) {\n        this.executeMethod(contract, 'businessBuy', pk, mainPKr, [tokenName, this.bigToHex(value), this.bigToHex(minValue), this.bigToHex(maxValue), this.bigToHex(price), unit], \"SERO\", 0, callback);\n    }\n\n    refused(pk, mainPKr, orderId, callback) {\n        this.executeMethod(contract, 'refused', pk, mainPKr, [this.bigToHex(orderId)], \"SERO\", 0, callback);\n    }\n\n    confirmed(pk, mainPKr, orderId, mcode, callback) {\n        this.executeMethod(contract, 'confirmed', pk, mainPKr, [this.bigToHex(orderId), mcode], \"SERO\", 0, callback);\n    }\n\n    finished(pk, mainPKr, orderId, callback) {\n        this.executeMethod(contract, 'finished', pk, mainPKr, [this.bigToHex(orderId)], \"SERO\", 0, callback);\n    }\n\n    userCancel(pk, mainPKr, orderId, callback) {\n        this.executeMethod(contract, 'userCancel', pk, mainPKr, [this.bigToHex(orderId)], \"SERO\", 0, callback);\n    }\n\n    businessCancel(pk, mainPKr, orderId, callback) {\n        this.executeMethod(contract, 'businessCancel', pk, mainPKr, [this.bigToHex(orderId)], \"SERO\", 0, callback);\n    }\n}\n\nconst oAbi = new OAbi();\nexport default oAbi;","import BigNumber from \"bignumber.js\";\n\nconst keccak256 = require(\"keccak256\");\nconst zeros = \"000000000000000000\";\n\nexport function randomByte32() {\n    let hex = \"0x\";\n    for (var i = 0; i < 8; i++) {\n        hex += Math.random().toString(16).slice(-8)\n    }\n    return hex;\n    // return Buffer.from(hex, \"hex\");\n}\n\nfunction getDate(num) {\n    if (num < 10) {\n        return \"0\" + num;\n    } else {\n        return num;\n    }\n}\n\nexport function formatDate(time) {\n    const Y = time.getFullYear();\n    const M = getDate(time.getMonth() + 1);\n    const d = getDate(time.getDate());\n    const h = getDate(time.getHours());\n    const m = getDate(time.getMinutes());\n    // var s =getDate(time.getSeconds());\n    return `${Y}/${M}/${d} ${h}:${m}`;\n\n}\n\nexport function hash(data) {\n    return \"0x\" + Buffer.from(keccak256(data)).toString('hex')\n}\n\nexport function showToken(token) {\n    if (token.length > 15) {\n        return token.slice(0, 10) + \"...\" + token.slice(-5)\n    } else {\n        return token\n    }\n}\n\nexport function bytes32ToToken(data) {\n    let bytes = Buffer.from(data.substring(2), \"hex\");\n    return String.fromCharCode.apply(String, bytes);;\n}\n\nexport function showPrice(price) {\n    if (price) {\n        let ret = new BigNumber(price).dividedBy(new BigNumber(1e18)).toFixed(18);\n        return trimNumber(ret, 18);\n    } else {\n        return \"0.000\";\n    }\n}\n\nexport function showValueP(val, decimal, decimalPlaces) {\n    let num = new BigNumber(val).dividedBy(new BigNumber(10).pow(decimal));\n    if (num.comparedTo(1000000) >= 0) {\n        let text = num.dividedBy(1000000).toFixed(2);\n        return trimNumber(text, 2) + \"M\";\n    } else if (num.comparedTo(1000) >= 0) {\n        let text = num.dividedBy(1000).toFixed(2);\n        return trimNumber(text, 2) + \"K\";\n    } else {\n        return trimNumber(num.toFixed(decimalPlaces), decimalPlaces);\n    }\n\n}\n\nexport function showValue(val, decimal, decimalPlaces) {\n    let text = new BigNumber(val).dividedBy(new BigNumber(10).pow(decimal)).toFixed(decimalPlaces);\n    return trimNumber(text, decimalPlaces)\n}\n\nexport function showPK(pk, len) {\n    if (!pk) {\n        return \"\";\n    }\n    if (!len) {\n        len = 8;\n    }\n    return pk.slice(0, len) + \"...\" + pk.slice(-len)\n}\n\nexport function tokenToBytes(token) {\n    let bytes = Buffer.alloc(32);\n    bytes.fill(token, 0, token.length);\n    return \"0x\" + bytes.toString('hex');\n}\n\nfunction trimNumber(numberStr, decimalPlaces) {\n    let vals = numberStr.split(\".\")\n    if (vals.length < 2) {\n        return numberStr;\n    } else {\n        let index = -1;\n        let decimal = vals[1];\n        for (let i = decimal.length - 1; i >= 0; i--) {\n            if (decimal.charAt(i) != '0') {\n                index = i;\n                break;\n            }\n        }\n        decimal = decimal.substring(0, index + 1);\n        let numStr = vals[0];\n        if (decimal.length > decimalPlaces) {\n            decimal = decimal.substring(0, decimalPlaces);\n        }\n        if (decimal.length > 0) {\n            numStr += \".\" + decimal;\n        }\n        return numStr\n    }\n}\n","import axios from 'axios'\n\n\nclass JsonRpc {\n\n    constructor() {\n    }\n\n    seroRpc(rpc, _method, _params, callback) {\n        let data = {\n            id: 0,\n            jsonrpc: \"2.0\",\n            method: _method,\n            params: _params,\n        };\n        axios.post(rpc, data).then(function (response) {\n            let data = response.data\n            if (callback) {\n                callback(data);\n            }\n        }).catch(function (error) {\n            console.log(\"req error: \", error);\n        })\n    }\n\n    get(url, cb) {\n        axios.get(url).then(function (rest) {\n            if (cb) {\n                cb(rest.data)\n            }\n        })\n    }\n}\n\nexport {JsonRpc}\n","import React, {Component} from 'react';\nimport {Flex, List, Modal, WhiteSpace, WingBlank} from \"antd-mobile\";\nimport 'semantic-ui-css/semantic.min.css';\nimport oAbi from './oabi'\nimport {hash} from \"./common\";\nimport Iframe from \"react-iframe\";\n\nexport class AuditingList extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            pk: localStorage.getItem(\"PK\"),\n            mainPKr: localStorage.getItem(\"MAINPKR\"),\n            codes: []\n        }\n    }\n\n    componentDidMount() {\n        let self = this;\n        oAbi.init\n            .then(() => {\n                oAbi.auditingList(self.state.mainPKr, function (codes) {\n                    self.setState({codes: codes});\n                });\n            });\n    }\n\n    render() {\n        let self = this;\n        let list = this.state.codes.map((item, index) => {\n\n            return (\n                <List.Item key={index}>\n                    <Flex>\n                        <Flex.Item style={{flex: 3}}>\n                            <div style={{\n                                overflow: 'hidden',\n                                textOverflow: 'ellipsis',\n                                whiteSpace: 'nowrap'\n                            }}>{item.hcode}</div>\n                        </Flex.Item>\n                        <Flex.Item style={{flex: 1, textAlign: 'right'}}><a onClick={() => {\n                            oAbi.pkrDecrypt(self.state.pk, item.pcode, function (code1) {\n                                if (oAbi.code2(code1) === item.hcode) {\n                                    let url = \"https://ahoj.xyz/level/code1/\" + code1 + \"?lang=cn\";\n                                    Modal.alert('', <Iframe url={url}\n                                                            width=\"100%\"\n                                                            height=\"450px\"\n                                                            display=\"initial\"\n                                                            position=\"relative\"/>, [\n                                        {\n                                            text: '拒绝', onPress: () => {\n                                                oAbi.audited(self.state.pk, self.state.mainPKr, [item.hcode], false);\n                                            }\n                                        },\n                                        {\n                                            text: '通过', onPress: () => {\n                                                oAbi.audited(self.state.pk, self.state.mainPKr, [item.hcode], true);\n                                            }\n                                        },\n                                    ]);\n                                }\n                            });\n                        }}>check</a>\n                        </Flex.Item>\n                    </Flex>\n                </List.Item>\n            )\n        });\n\n        return (\n            <div style={{border: '1px solid #d4d4d5', paddingTop: '10px'}}>\n                <div ref={el => this.modal = el}>{this.state.modal}</div>\n                <WingBlank>\n                    <List renderHeader={() => '审核列表'} className=\"my-list\">\n                        {list}\n                    </List>\n                </WingBlank>\n            </div>\n        )\n    }\n}","const list = [\"zh_CN\", \"en_US\", \"be_BY\", \"ja_JP\", \"ko_KR\"];\n\nclass Language {\n\n    set = (_lang) => {\n        if (list.indexOf(_lang) > -1) {\n            localStorage.setItem(\"language\", _lang)\n        } else {\n            localStorage.setItem(\"language\", \"en_US\")\n        }\n    }\n\n    e = () => {\n        const lang = localStorage.getItem(\"language\");\n        if (lang === \"zh_CN\") {\n            return this.zh_CN;\n        } else if (lang === \"en_US\") {\n            return this.en_US;\n        } else if (lang === \"be_BY\") {\n            return this.be_BY;\n        } else if (lang === \"ja_JP\") {\n            return this.ja_JP;\n        } else if (lang === \"ko_KR\") {\n            return this.ko_KR;\n        } else {\n            let localUtc = new Date().getTimezoneOffset() / 60;\n            if (localUtc === -8) {\n                return this.zh_CN;\n            } else {\n                return this.en_US;\n            }\n        }\n    }\n\n    zh_CN = {\n        text: \"语言\",\n        change: \"切换\",\n        modal: {\n            ok: \"确定\",\n            cancel: \"取消\",\n        },\n        button: {\n            ok: \"确定\",\n            cancel: \"取消\",\n        },\n        kyc: {\n            title1: \"未完成KYC信息，请完成\",\n            msg1: \"点确定继续\",\n            title2: \"设置昵称\",\n            title3: \"未提交审核\",\n            msg3: \"点击确定提交审核\",\n            title4: \"等待审核通过\"\n        },\n        order:{\n\n            buy:\"买入\",\n            sell:\"卖出\",\n            time:\"时间\",\n            price:\"价格\",\n            amount:\"数量\",\n            dealAmount:\"成交量\",\n            orderType:\"交易类型\",\n            op:\"操作\",\n            cancel:\"撤消订单\",\n            confirm:\"确认\",\n            refuse:\"拒绝\",\n            pass:\"放行\",\n            tips1:\"待确认\",\n            tips2_0:\"待付款\",\n            tips2_1:\"应收\",\n            tips2_3:\"请确认已收款！\",\n            tips2_4:\"超时未收到付款\",\n            tips3:\"已拒绝\",\n            tips4:\"已取消\",\n            tips5:\"已完成\",\n            tips6:\"点确定继续\",\n            tips7:\"撤消订单\",\n            tips8:\"联系商家\",\n            tips9:\"超时放行后请自行放行\",\n            tips10:\"请确认已支付\",\n            tips11:\"请确认已支付\",\n            tips12:\"请确认已收到\",\n        }\n    };\n\n    en_US = {\n        text: \"语言\",\n        change: \"切换\",\n        modal: {\n            ok: \"确定\",\n            cancel: \"取消\",\n        },\n        kyc: {\n            title1: \"未完成KYC信息，请完成\",\n            msg1: \"点确定继续\",\n            title2: \"设置昵称\",\n            title3: \"未提交审核\",\n            msg3: \"点击确定提交审核\",\n            title4: \"等待审核通过\"\n        },\n        order:{\n\n            buy:\"买入\",\n            sell:\"卖出\",\n            time:\"时间\",\n            price:\"价格\",\n            amount:\"数量\",\n            dealAmount:\"成交量\",\n            orderType:\"交易类型\",\n            op:\"操作\",\n            cancel:\"撤消订单\",\n            confirm:\"确认\",\n            refuse:\"拒绝\",\n            pass:\"放行\",\n            tips1:\"待确认,请联系商家确认订单\",\n            tips2_0:\"待付款\",\n            tips2_1:\"应收\",\n            tips2_3:\"请确认已收款！\",\n            tips2_4:\"超时未收到付款\",\n            tips3:\"已拒绝\",\n            tips4:\"已取消\",\n            tips5:\"已完成\",\n            tips6:\"点确定继续\",\n            tips7:\"撤消订单\",\n            tips8:\"联系商家\",\n            tips9:\"超时放行后请自行放行\",\n            tips10:\"请确认已支付\",\n            tips11:\"请确认已支付\",\n            tips12:\"请确认已收到\",\n        }\n\n    };\n\n\n    be_BY = {\n        text: \"языка\",\n        modal: {\n            ok: \"OK\",\n            cancel: \"Отмена\"\n        },\n        tabBar: {\n            price: \"рынки\",\n            trade: \"торговать\",\n            assets: \"активы\"\n        },\n        home: {\n            account: \"учетная запись\",\n            change: \"изменить\",\n            name: \"имя\",\n            trade: \"торговать\",\n            lastPrice: \"Последняя цена\",\n        },\n        trade: {\n            buy: \"купить\",\n            sell: \"продавать\",\n            orderPrice: \"Цена\",\n            orderNum: \"сумма\",\n            available: \"доступный\",\n            amount: \"сумма\",\n\n            price: \"Цена\",\n            num: \"сумма\",\n\n            openOrders: \"Открытые заказы\",\n            all: \"все\",\n            cancel: \"Отмена\",\n            cancelAll: \"Отменить все\",\n\n            finished: \"Завершенный\",\n            canceled: \"отменен\",\n            total: \"общее количество\",\n            volume: \"объем\",\n            depth: \"depth map\",\n        },\n\n        assets: {\n            total: \"Итоговый баланс\",\n            available: \"Доступный\",\n            locked: \"в заказах\",\n            rechange: \"перезарядка\",\n            withdrawal: \"Сумма вывода\",\n            trade: \"торговать\",\n            num: \"количество\"\n        }\n    };\n\n    ja_JP = {\n        text: \"言語\",\n        modal: {\n            ok: \"OK\",\n            cancel: \"キャンセル\"\n        },\n        tabBar: {\n            price: \"市場\",\n            trade: \"トレード\",\n            assets: \"資産\"\n        },\n        home: {\n            account: \"アカウント\",\n            change: \"変化する\",\n            name: \"名前\",\n            trade: \"トレード\",\n            lastPrice: \"最後価格\",\n        },\n        trade: {\n            buy: \"購入\",\n            sell: \"売る\",\n            orderPrice: \"価格\",\n            orderNum: \"量\",\n            available: \"利用可能\",\n            amount: \"量\",\n\n            price: \"価格\",\n            num: \"量\",\n\n            openOrders: \"未処理の注文\",\n            all: \"すべて\",\n            cancel: \"キャンセル\",\n            cancelAll: \"すべてキャンセル\",\n\n            finished: \"完成した\",\n            canceled: \"キャンセル\",\n            total: \"合計\",\n            volume: \"ボリューム\",\n            depth: \"depth map\",\n        },\n\n        assets: {\n            total: \"合計\",\n            available: \"利用可能\",\n            locked: \"順番に\",\n            rechange: \"保証金\",\n            withdrawal: \"撤回\",\n            trade: \"トレード\",\n            num: \"量\"\n        }\n    };\n\n    ko_KR = {\n        text: \"언어\",\n        modal: {\n            ok: \"OK\",\n            cancel: \"취소\"\n        },\n        tabBar: {\n            price: \"시장\",\n            trade: \"무역\",\n            assets: \"자산\"\n        },\n        home: {\n            account: \"계정\",\n            change: \"변화\",\n            name: \"이름\",\n            trade: \"무역\",\n            lastPrice: \"마지막 가격\",\n        },\n        trade: {\n            buy: \"구입\",\n            sell: \"팔다\",\n            orderPrice: \"가격\",\n            orderNum: \"양\",\n            available: \"이용할 수 있는\",\n            amount: \"양\",\n\n            price: \"가격\",\n            num: \"양\",\n\n            openOrders: \"주문 열기\",\n            all: \"모두\",\n            cancel: \"취소\",\n            cancelAll: \"모두 취소\",\n\n            finished: \"완성됨\",\n            canceled: \"취소 된\",\n            total: \"합계\",\n            volume: \"음량\",\n            depth: \"depth map\",\n        },\n\n        assets: {\n            total: \"합계\",\n            available: \"사용 가능한 잔액\",\n            locked: \"순서대로\",\n            rechange: \"재충전\",\n            withdrawal: \"철수\",\n            trade: \"무역\",\n            num: \"양\"\n        }\n    };\n};\n\nconst language = new Language();\nexport default language","import React, {Component} from 'react';\nimport {Modal, Flex, WhiteSpace, Icon, Card} from \"antd-mobile\";\nimport 'semantic-ui-css/semantic.min.css';\nimport oAbi from '../oabi'\nimport {bytes32ToToken, formatDate, showValue} from \"../common\";\nimport BigNumber from 'bignumber.js'\nimport language from '../language'\nimport Iframe from \"react-iframe\";\n\nconst alert = Modal.alert;\n\nexport class COrders extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {pk: this.props.pk, orders: []}\n    }\n\n    componentDidMount() {\n        let self = this;\n        oAbi.init\n            .then(() => {\n                oAbi.accountDetails(this.state.pk, function (account) {\n                    oAbi.myKyc(account.pk, account.mainPKr, function (code, pcode, hasAudited) {\n                        self.setState({mainPKr: account.mainPKr, code: code, pcode: pcode, hasAudited: hasAudited});\n                        self.init(account.mainPKr);\n                        self.timer = setInterval(function () {\n                            self.init();\n                        }, 10 * 1000);\n                    });\n                });\n            });\n    }\n\n    componentWillUnmount() {\n        if (this.timer) {\n            clearInterval(this.timer);\n        }\n    }\n\n    init(mainPKr) {\n        let self = this;\n        if (!mainPKr) {\n            mainPKr = this.state.mainPKr;\n        }\n        oAbi.userOrders(mainPKr, true, function (orders) {\n            if(orders) {\n                orders.sort(function (a, b) {\n                    return b.order.updateTime - a.order.updateTime;\n                });\n                self.setState({orders: orders});\n            }\n        });\n    }\n\n    componentWillReceiveProps(nextProps) {\n        let self = this;\n        if (nextProps.pk != this.props.pk) {\n            oAbi.accountDetails(nextProps.pk, function (account) {\n                oAbi.myKyc(account.pk, account.mainPKr, function (code) {\n                    self.setState({pk: nextProps.pk, mainPKr: account.mainPKr, code: code});\n                    self.init(account.mainPKr);\n                })\n            });\n        }\n    }\n\n    render() {\n        let self = this;\n        let showOrders = this.state.orders.map((item, index) => {\n            let text = \"\";\n            if (item.order.status == 1) {\n                text = language.e().order.tips1;\n            } else if (item.order.status == 2) {\n                let value = new BigNumber(item.order.price).multipliedBy(item.order.value).dividedBy(new BigNumber(10).pow(27)).toNumber();\n                if (item.order.orderType == 0) {\n                    text = language.e().order.tips2_0 + value + \"CNY\";\n                } else {\n                    text = <span>\n                        {language.e().order.tips2_1}{value}CNY,\n                        <a onClick={() => {\n                            alert(language.e().order.pass, <span>请确认已经收到对方付款，应收:{value}CNY</span>, [\n                                {text: language.e().modal.cancel, onPress: () => console.log('cancel')},\n                                {\n                                    text: language.e().modal.ok, onPress: () => {\n                                        oAbi.finished(self.state.pk, self.state.mainPKr, item.id);\n                                    }\n                                }\n                            ]);\n                        }}>{language.e().order.pass}</a>\n                    </span>\n                }\n            } else if (item.order.status == 3) {\n                text = language.e().order.tips3;\n            } else if (item.order.status == 4) {\n                text = language.e().order.tips4;\n            } else if (item.order.status == 5) {\n                text = language.e().order.tips5;\n            }\n            let status = <span>{text}\n                {\n                    item.order.status == 1 && <span>\n                        <a onClick={() => {\n                            alert(language.e().order.tips7, <span>ID:{item.id},{language.e().order.tips6}</span>, [\n                                {text: language.e().modal.cancel, onPress: () => console.log('cancel')},\n                                {\n                                    text: language.e().modal.ok, onPress: () => {\n                                        oAbi.userCancel(this.state.pk, this.state.mainPKr, item.id);\n                                    }\n                                },\n                            ])\n                        }\n                        }>,撤消</a>\n                    </span>\n                }\n            </span>\n            return <div className=\"item\" key={index}>\n                <WhiteSpace/>\n                <Card>\n                    <Card.Header\n                        title={\n                            <span>{item.order.orderType == 0 ? language.e().order.buy : language.e().order.sell} {bytes32ToToken(item.order.token)}</span>}\n                        extra={<div><span style={{float: 'left'}}>ID: {item.id}</span>&nbsp;&nbsp;&nbsp;<span\n                            style={{textAlign: 'right'}}>{status}</span></div>}\n                    />\n                    <Card.Body>\n                        <Flex>\n                            <Flex.Item style={{flex: 2}}>\n                                <div>{language.e().order.time}</div>\n                                <div>{formatDate(new Date(item.order.updateTime * 1000))}</div>\n                            </Flex.Item>\n                            <Flex.Item style={{flex: 1}}>\n                                <div>{language.e().order.price}</div>\n                                <div>{showValue(item.order.price, 9, 4)}</div>\n                            </Flex.Item>\n                            <Flex.Item style={{flex: 1, textAlign: 'right'}}>\n                                <div>{language.e().order.amount}</div>\n                                <div>{showValue(item.order.value, 18, 4)}</div>\n                            </Flex.Item>\n                        </Flex>\n                    </Card.Body>\n                    <Card.Footer extra={<div>\n                         <span>\n                        {item.order.status == 2 ?\n\n                            <a onClick={() => {\n                                oAbi.pkrDecrypt(self.state.pk, item.mcode, function (code1) {\n                                    let url = \"https://ahoj.xyz/level/code1/\" + code1 + \"?lang=cn\";\n                                    Modal.alert('支付信息', <div>\n                                        <Iframe url={url}\n                                                width=\"100%\"\n                                                height=\"450px\"\n                                                display=\"initial\"\n                                                position=\"relative\"/>\n                                    </div>);\n                                });\n                            }\n                            }>支付信息</a> : <a onClick={() => {\n                                let url = \"https://ahoj.xyz/level/code2/\" + item.hcode + \"?lang=cn\";\n                                Modal.alert('联系商家', <div>\n                                    <Iframe url={url}\n                                            width=\"100%\"\n                                            height=\"450px\"\n                                            display=\"initial\"\n                                            position=\"relative\"/>\n                                </div>);\n                            }}>{language.e().order.tips8}</a>\n                        }\n                         </span>\n                    </div>}/>\n                </Card>\n            </div>\n        });\n        return (\n            <div className=\"ui list\">{showOrders && showOrders.length > 0 ? showOrders :\n                <div style={{textAlign: 'center'}}>\n                    <Icon type=\"iconnodata-topic\" style={{width: \"100px\", height: \"100px\"}}/>\n                </div>}</div>\n        )\n    }\n}","import React, {Component} from \"react\";\nimport oAbi from \"./oabi\";\nimport {Modal, WhiteSpace} from \"antd-mobile\";\nimport {hash, randomByte32} from \"./common\";\nimport language from './language'\nimport * as cookie from \"react-cookies\";\n\nconst host = \"http://localhost:3000\";\n\nexport default class Basepage extends Component {\n\n    constructor(props, state) {\n        super(props);\n        this.state = Object.assign(state, {\n            pk: this.props.pk,\n            code: null,\n            pcode: null,\n            auditedStatus: 0\n        });\n    }\n\n    fetchKyc() {\n        let self = this;\n        self.kycTimer = setInterval(function () {\n            oAbi.myKyc(self.state.pk, self.state.mainPKr, function (code, auditedStatus) {\n                if (code) {\n                    self.setState({code: code, auditedStatus: auditedStatus});\n                    clearInterval(self.kycTimer);\n                }\n            });\n        }, 10 * 1000);\n    }\n\n    commitKyc(auditing, code) {\n        let self = this;\n        Modal.alert(language.e().kyc.title2,\n            <div>\n                <div className=\"ui input\"><input type=\"text\" placeholder=\"name\"\n                                                 onChange={(event) => {\n                                                     self.nameValue.value = event.target.value;\n                                                 }}\n                                                 ref={el => self.nameValue = el}/></div>\n                <WhiteSpace/>\n                <div className=\"ui input\"><input type=\"text\" value={code}\n                                                 onChange={(event) => {\n                                                     self.codeValue.value = event.target.value;\n                                                 }}\n                                                 ref={el => self.codeValue = el}/></div>\n                <WhiteSpace/>\n            </div>,\n            [\n                {\n                    text: <span>{language.e().modal.cancel}</span>, onPress: () => {\n                        // window.location.href = host;\n                    }\n                },\n                {\n                    text: <span>{language.e().modal.ok}</span>, onPress: () => {\n                        let name = self.nameValue.value;\n                        let code1 = oAbi.code1(code);\n                        let code2 = oAbi.code2(code1);\n                        oAbi.pkrCrypto(self.state.pk, self.state.mainPKr, code, function (ecode) {\n                            if (auditing) {\n                                oAbi.auditor(self.state.mainPKr, function (auditor) {\n                                    oAbi.pkrEncrypt(auditor, code1, function (pcode) {\n                                        console.log(\"registerKyc\", auditor, code, code2, ecode, pcode);\n                                        oAbi.registerKyc(self.state.pk, self.state.mainPKr, name, code2, ecode, pcode, function (res, error) {\n                                            if(error) {\n                                                // window.location.href = host;\n                                            } else {\n                                                cookie.save('hasRegister', true, {path: '/', maxAge: 30});\n                                                self.fetchKyc();\n                                            }\n                                        });\n                                    });\n                                });\n                            } else {\n                                oAbi.registerKyc(self.state.pk, self.state.mainPKr, name, code2, ecode, \"0x\", function (res, error) {\n                                    if(error) {\n                                        // window.location.href = host;\n                                    } else {\n                                        cookie.save('hasRegister', true, {path: '/', maxAge: 20});\n                                        self.fetchKyc();\n                                    }\n                                });\n                            }\n                        });\n                    }\n                },\n            ])\n    }\n\n    kyc(auditing) {\n        let self = this;\n        if (!this.state.code) {\n            if (cookie.load('hasRegister')) {\n                Modal.alert(\"已提交请稍等\", \"\",\n                    [\n                        {text: <span>{language.e().modal.cancel}</span>},\n                        {\n                            text: <span>{language.e().modal.ok}</span>, onPress: () => {\n                            }\n                        },\n                    ])\n            } else {\n                Modal.alert(language.e().kyc.title1, language.e().kyc.msg1,\n                    [\n                        {text: <span>{language.e().modal.cancel}</span>},\n                        {\n                            text: <span>{language.e().modal.ok}</span>, onPress: () => {\n                                var urlenc;\n                                if (auditing) {\n                                    urlenc = encodeURIComponent(\"http://localhost:3000/?page=business&code=codeId\");\n                                } else {\n                                    urlenc = encodeURIComponent(\"http://localhost:3000/?page=customer&code=codeId\");\n                                }\n                                window.location.href = \"https://ahoj.xyz/profile?lang=cn&ref=\" + urlenc;\n                            }\n                        },\n                    ])\n            }\n\n        } else {\n            if (this.state.auditedStatus == 0) {\n                Modal.alert(language.e().kyc.title3, language.e().kyc.msg3,\n                    [\n                        {text: <span>{language.e().modal.cancel}</span>},\n                        {\n                            text: <span>{language.e().modal.ok}</span>, onPress: () => {\n                                oAbi.auditor(self.state.mainPKr, function (auditor) {\n                                    oAbi.pkrEncrypt(auditor, oAbi.code1(self.state.code), function (pcode) {\n                                        oAbi.needAuditing(self.state.pk, self.state.mainPKr, pcode);\n                                    });\n                                });\n                            }\n                        },\n                    ])\n            } else {\n                Modal.alert('', language.e().kyc.title4)\n            }\n        }\n    }\n\n\n    componentWillUnmount() {\n        if (this.timer) {\n            clearInterval(this.timer);\n        }\n        if (this.kycTimer) {\n            clearInterval(this.kycTimer);\n        }\n    }\n\n    componentDidMount() {\n        console.log(\"componentDidMount\", this.props.orderType, this);\n        let url = document.URL;\n        let code0;\n        let index = url.indexOf(\"code=\");\n        if (index != -1) {\n            code0 = url.substring(index + 5).trim();\n        }\n\n        let self = this;\n        oAbi.init\n            .then(() => {\n                oAbi.accountDetails(this.state.pk, function (account) {\n                    oAbi.myKyc(account.pk, account.mainPKr, function (code, auditedStatus) {\n                        self.setState({mainPKr: account.mainPKr, code: code, auditedStatus: auditedStatus});\n                        if (self._componentDidMount) {\n                            self._componentDidMount(account.mainPKr, code);\n                        }\n                        if (!code && code0 && !cookie.load('clear')) {\n                            if (url.indexOf(\"page=business\") != -1) {\n                                self.commitKyc(true, code0);\n                            } else {\n                                self.commitKyc(false, code0);\n                            }\n                        }\n                    });\n                });\n            });\n    }\n\n    componentWillReceiveProps(nextProps) {\n        let self = this;\n        if (nextProps.pk != this.props.pk) {\n            oAbi.accountDetails(nextProps.pk, function (account) {\n                oAbi.myKyc(account.pk, account.mainPKr, function (code, auditedStatus) {\n                    self.setState({\n                        pk: nextProps.pk,\n                        mainPKr: account.mainPKr,\n                        code: code,\n                        auditedStatus: auditedStatus\n                    });\n                    self.init(account.mainPKr);\n                })\n            });\n        }\n    }\n}\n\n","import React, {Component} from 'react';\nimport {Button, Modal, Toast, WhiteSpace, Card, Icon} from \"antd-mobile\";\nimport 'semantic-ui-css/semantic.min.css';\nimport oAbi from '../oabi'\nimport BigNumber from \"bignumber.js\";\nimport {randomByte32, showValue} from \"../common\";\nimport BasePage from \"../basepage\";\nimport language from '../language'\nimport Iframe from \"react-iframe\";\n\nconst alert = Modal.alert;\n\nconst values = [100, 200, 500, 1000, 5000, 10000, 30000];\n\nexport class MarketOrders extends BasePage {\n    constructor(props) {\n        super(props, {\n            sellOrders: [],\n            buyOrders: [],\n            token: oAbi.tokenList()[0],\n            unit: 0,\n            showSelect: false\n        });\n    }\n\n    _componentDidMount(mainPKr) {\n        let self = this;\n        self.init(mainPKr, this.state.token);\n\n        self.timer = setInterval(function () {\n            self.init();\n        }, 20 * 1000);\n    }\n\n    init(mainPKr, token, unit) {\n        let self = this;\n        if (!mainPKr) {\n            mainPKr = this.state.mainPKr;\n        }\n        if (!token) {\n            token = this.state.token;\n        }\n        if (unit == undefined) {\n            unit = this.state.unit;\n        }\n        if (!token) {\n            return;\n        }\n\n        oAbi.businessOrders(mainPKr, token, unit, false, function (orders) {\n            let ids = [];\n            let sellOrders = [];\n            let buyOrders = [];\n\n            if (orders.length > 0) {\n                orders = orders.filter(function (item) {\n                    return item.order.status == 0 && new BigNumber(item.order.value).comparedTo(new BigNumber(item.order.dealtValue)) > 0;\n                });\n\n\n                orders.forEach(item => {\n                    item.pkr = \"0x\" + item.order.owner.slice(-40);\n                    ids.push(item.pkr);\n                });\n\n                oAbi.getFullAddress(ids, function (ret) {\n                    orders.forEach(item => {\n                        item.pkr = ret.result[item.pkr];\n                        if (item.order.orderType == 0) {\n                            buyOrders.push(item);\n                        } else {\n                            sellOrders.push(item);\n                        }\n                    });\n                    self.setState({sellOrders: sellOrders, buyOrders: buyOrders});\n                });\n            } else {\n                self.setState({sellOrders: sellOrders, buyOrders: buyOrders});\n            }\n        });\n    }\n\n    render() {\n        let orderType = this.props.orderType;\n        let tabList = oAbi.tokenList().map((item, index) => {\n            return <div className=\"item\" key={index}>\n                <a style={this.state.token == item ? {fontWeight: 'bold', color: 'black'} : {}} onClick={() => {\n                    this.setState({token: item});\n                    this.init(this.state.mainPKr, item);\n                }}>{item\n                }</a>\n            </div>\n        });\n\n\n        let orders;\n        if (orderType == 1) {\n            orders = this.state.buyOrders;\n        } else {\n            orders = this.state.sellOrders;\n        }\n        let self = this;\n        let showOrders = orders.map((item, index) => {\n            let value = item.order.value - item.order.dealtValue - item.order.lockinValue;\n            return (\n                <div className=\"item\" key={index}>\n                    <Card>\n                        <Card.Header\n                            title={item.name}\n                            extra={<span onClick={() => {\n                                let url = \"https://ahoj.xyz/level/code2/\" + item.hcode + \"?lang=cn\";\n                                alert('联系方式', <Iframe url={url}\n                                                      width=\"100%\"\n                                                      height=\"450px\"\n                                                      display=\"initial\"\n                                                      position=\"relative\"/>\n                                )\n                            }}>联系商家</span>}\n                        />\n                        <Card.Body>\n                            <div style={{fontSize: \"14px\", fontWeight: \"800\"}}>{showValue(item.order.price, 9, 4)} {oAbi.unitName(self.state.unit)}\n                            </div>\n                        </Card.Body>\n                        <Card.Footer content={\n                            <div>\n                                <div>数量: {showValue(value, 18, 4)}</div>\n                                <div>限额: {showValue(item.order.minDealValue, 18, 0)}-{showValue(item.order.maxDealValue, 18, 4)}</div>\n                            </div>\n                        } extra={\n                            <Button type=\"ghost\" inline size=\"small\" style={{marginRight: '4px'}}\n                                    onClick={() => {\n                                        if (this.state.auditedStatus == 0) {\n                                            this.kyc(false);\n                                        } else {\n                                            let options = values.map((value, index) => {\n                                                if (new BigNumber(value).multipliedBy(new BigNumber(10).pow(18)).comparedTo(new BigNumber(item.order.value - item.order.dealtValue)) <= 0) {\n                                                    return (\n                                                        <option key={index} value={value}>{value}</option>\n                                                    )\n                                                }\n                                            });\n                                            Modal.alert(\n                                                <span>{orderType == 1 ? language.e().order.sell : language.e().order.buy}</span>,\n                                                <div>\n                                                    <select className=\"ui selection dropdown\"\n                                                            ref={el => this.amountValue = el}\n                                                            onChange={(e) => {\n                                                                this.amountValue.value = e.target.value;\n                                                            }}>\n                                                        {options}\n                                                    </select>\n                                                </div>\n                                                , [\n                                                    {text: 'Cancel'},\n                                                    {\n                                                        text: 'Ok', onPress: () => {\n                                                            let amount = new BigNumber(this.amountValue.value).multipliedBy(new BigNumber(10).pow(18)).toNumber();\n                                                            if (amount == 0) {\n                                                                Toast.fail(\"输入金额为0\");\n                                                                return;\n                                                            }\n                                                            if (amount > (item.order.value - item.order.dealtValue)) {\n                                                                Toast.fail(\"超出可交易范围!\");\n                                                                return;\n                                                            }\n\n                                                            oAbi.pkrEncrypt(item.pkr, oAbi.code1(self.state.code), function (mcode) {\n                                                                if (orderType == 0) {\n                                                                    oAbi.exchangeBuy(self.state.pk, self.state.mainPKr, mcode, item.id, amount);\n                                                                } else {\n                                                                    oAbi.exchangeSell(self.state.pk, self.state.mainPKr, mcode, item.id, self.state.token, amount);\n                                                                }\n                                                            });\n                                                        }\n                                                    },\n                                                ])\n                                        }\n\n                                    }}>\n                                {orderType == 1 ? language.e().order.sell : language.e().order.buy}\n                            </Button>\n                        }/>\n                    </Card>\n                </div>\n            )\n        });\n\n        return (\n            <div>\n                <WhiteSpace/>\n                <div className=\"ui breadcrumb\">\n                    <div className=\"section\">\n                        <div className=\"ui dropdown\" ref={el => this.dropdown = el}\n                             onClick={() => {\n                                 this.setState({showSelect: true});\n                                 this.dropdown.className = \"ui dropdown active visible\";\n                                 this.menu.className = \"menu transition visible\";\n                             }}>\n                            <div className=\"text\">{oAbi.unitName(this.state.unit)}</div>\n                            <i className=\"dropdown icon\"></i>\n                            <div className=\"menu transition hidden\" ref={el => this.menu = el}>\n                                <div className=\"item\" onClick={(e) => {\n                                    this.dropdown.className = \"ui dropdown \";\n                                    this.menu.className = \"menu transition hidden\";\n                                    this.setState({unit: 0, showSelect: false});\n                                    this.init(this.state.mainPKr, null, 0);\n                                    e.stopPropagation()\n                                }}>CNY\n                                </div>\n                                <div className=\"item\" onClick={(e) => {\n                                    this.dropdown.className = \"ui dropdown \";\n                                    this.menu.className = \"menu transition hidden\";\n                                    this.setState({unit: 1, showSelect: false});\n                                    this.init(this.state.mainPKr, null, 1);\n                                    e.stopPropagation();\n                                }}>USD\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"divider\">&nbsp;&nbsp;&nbsp;&nbsp;</div>\n                    <div className=\"section\">\n                        <div className=\"ui small horizontal divided list\">\n                            {tabList}\n                        </div>\n                    </div>\n                </div>\n\n                <h4 className=\"ui dividing header\">\n                    市场挂单\n                </h4>\n                {orders.length > 0 ?\n                    <div className=\"ui list\">{showOrders}</div> :\n                    <div style={{textAlign: 'center'}}>\n                        <Icon type=\"iconnodata-topic\" style={{width: \"100px\", height: \"100px\"}}/>\n                    </div>\n                }\n            </div>\n        )\n    }\n}","import React, {Component} from 'react';\nimport {Button, Flex, List, Modal, Toast, WhiteSpace} from \"antd-mobile\";\nimport 'semantic-ui-css/semantic.min.css';\nimport oAbi from '../oabi'\nimport {showValue} from \"../common\";\nimport BigNumber from \"bignumber.js\";\nimport BasePage from \"../basepage\";\n\nexport class Placeorder extends BasePage {\n    constructor(props) {\n        super(props, {\n            sellOrders: [],\n            buyOrders: [],\n            token: oAbi.tokenList()[0],\n            unit: 0\n        });\n    }\n\n    _componentDidMount(mainPKr) {\n        let self = this;\n        self.init(mainPKr, this.state.token);\n        self.timer = setInterval(function () {\n            self.init();\n        }, 10 * 1000);\n    }\n\n    _componentWillReceiveProps(nextProps) {\n        let self = this;\n        if (nextProps.orderType != this.props.orderType) {\n            this.setState({orderType: nextProps.orderType});\n        }\n    }\n\n    init(mainPKr, token, unit) {\n        if (!mainPKr) {\n            mainPKr = this.state.mainPKr;\n        }\n        if (!token) {\n            token = this.state.token;\n        }\n        if (unit == undefined) {\n            unit = this.state.unit;\n        }\n        if (!token) {\n            return;\n        }\n\n        let self = this;\n        oAbi.init\n            .then(() => {\n                console.log(\"businessOrders\", unit);\n                oAbi.businessOrders(mainPKr, token, unit, false, function (orders) {\n                    let sellOrders = [];\n                    let buyOrders = [];\n\n                    orders = orders.filter(function (item) {\n                        return item.order.status == 0 && new BigNumber(item.order.value).comparedTo(new BigNumber(item.order.dealtValue)) > 0;\n                    });\n\n                    orders.forEach(item => {\n                        if (item.order.orderType == 0) {\n                            buyOrders.push(item);\n                        } else {\n                            sellOrders.push(item);\n                        }\n                    });\n                    self.setState({sellOrders: sellOrders, buyOrders: buyOrders});\n                });\n            })\n    }\n\n    render() {\n        let orderType = this.props.orderType;\n        let showOrders;\n        let price;\n        if (orderType == 0) {\n            price = 1;\n            showOrders = this.state.buyOrders;\n        } else {\n            price = 1.005\n            showOrders = this.state.sellOrders;\n        }\n\n        let orders = showOrders.map((item, index) => {\n            return <List.Item key={index}>\n                <Flex style={{fontSize:\"12px\",fontWeight:\"800\"}}>\n                    <Flex.Item>{showValue(item.order.price, 9, 4)}</Flex.Item>\n                    <Flex.Item>{showValue(item.order.value - item.order.dealtValue - item.order.lockinValue, 18, 4)}</Flex.Item>\n                    <Flex.Item>{showValue(item.order.minDealValue, 18, 4)}-{showValue(item.order.maxDealValue, 18, 4)}</Flex.Item>\n                </Flex>\n            </List.Item>\n        });\n        let tabList = oAbi.tokenList().map((item, index) => {\n            return <div className=\"item\" key={index}>\n                <a style={this.state.token == item ? {fontWeight: 'bold', color: 'black'} : {}} onClick={() => {\n                    this.setState({token: item});\n                    this.init(this.state.mainPKr, item);\n                }}>{item}</a>\n            </div>\n        });\n        return (\n            <div className=\"ui segment\">\n                <div className=\"ui breadcrumb\">\n                    <div className=\"section\">\n                        <div className=\"ui dropdown\" ref={el => this.dropdown = el}\n                             onClick={() => {\n                                 this.setState({showSelect: true});\n                                 this.dropdown.className = \"ui dropdown active visible\";\n                                 this.menu.className = \"menu transition visible\";\n                             }}>\n                            <div className=\"text\">{oAbi.unitName(this.state.unit)}</div>\n                            <i className=\"dropdown icon\"></i>\n                            <div className=\"menu transition hidden\" ref={el => this.menu = el}>\n                                <div className=\"item\" onClick={(e) => {\n                                    this.dropdown.className = \"ui dropdown \";\n                                    this.menu.className = \"menu transition hidden\";\n                                    this.setState({unit: 0, showSelect: false});\n                                    this.init(this.state.mainPKr, null, 0);\n                                    e.stopPropagation()\n                                }}>CNY\n                                </div>\n                                <div className=\"item\" onClick={(e) => {\n                                    this.dropdown.className = \"ui dropdown \";\n                                    this.menu.className = \"menu transition hidden\";\n                                    this.setState({unit: 1, showSelect: false});\n                                    this.init(this.state.mainPKr, null, 1);\n                                    e.stopPropagation();\n                                }}>USD\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"divider\">&nbsp;&nbsp;&nbsp;&nbsp;</div>\n                    <div className=\"section\">\n                        <div className=\"ui small horizontal divided list\">\n                            {tabList}\n                        </div>\n                    </div>\n                </div>\n\n                <WhiteSpace/>\n                <div className=\"ui icon input\" style={{width: \"100%\"}}>\n                    <input disabled={true} type=\"text\" placeholder=\"Price\" ref={el => this.priceValue = el}\n                           value={price}\n                           onChange={(event) => {\n                               let value = event.target.value;\n                               if (value) {\n                                   value = (value.match(/^\\d*(\\.?\\d{0,4})/g)[0]) || null\n                               }\n                               // this.priceValue.value = value;\n                           }}/>\n                    <i className=\"icon\" style={{top: '12px',color:\"#000\"}}>{oAbi.unitName(this.state.unit)}</i>\n                </div>\n                <WhiteSpace/>\n                <div className=\"ui icon input\" style={{width: \"100%\"}}>\n                    <input type=\"text\" placeholder=\"Amount\" ref={el => this.countValue = el}\n                           onChange={(event) => {\n                               let value = event.target.value;\n                               if (value) {\n                                   value = (value.match(/^\\d*(\\.?\\d{0,4})/g)[0]) || null\n                               }\n                               this.countValue.value = value;\n                               this.minValue.value = 0;\n                               this.maxValue.value = value;\n                           }}/>\n                    <i className=\"icon\" style={{top: '12px',color:\"#000\"}}>{this.state.token}</i>\n                </div>\n                <WhiteSpace/>\n                <Flex style={{textAlign: \"center\"}}>\n                    <Flex.Item>\n                        <div className=\"ui icon input\" style={{width: \"100%\"}}>\n                            <input disabled={true} type=\"text\" placeholder=\"MIN\" style={{paddingRight: \"10px\"}}\n                                   ref={el => this.minValue = el} onChange={(event) => {\n                                let value = event.target.value;\n                                if (value) {\n                                    value = (value.match(/^\\d*(\\.?\\d{0,4})/g)[0]) || null\n                                }\n                                this.minValue.value = value;\n                            }}/>\n                            <i className=\"icon\" style={{top: '12px',color:\"#000\"}}>{this.state.token}</i>\n                        </div>\n                    </Flex.Item>\n                    <Flex.Item>\n                        <div className=\"ui icon input\" style={{width: \"100%\"}}>\n                            <input disabled={true} type=\"text\" placeholder=\"MAX\" style={{paddingLeft: \"10px\"}}\n                                   ref={el => this.maxValue = el} onChange={(event) => {\n                                let value = event.target.value;\n                                if (value) {\n                                    value = (value.match(/^\\d*(\\.?\\d{0,4})/g)[0]) || null\n                                }\n                                this.maxValue.value = value;\n                            }}/>\n                            <i className=\"icon\" style={{top: '12px',color:\"#000\"}}>{this.state.token}</i>\n                        </div>\n                    </Flex.Item>\n\n                </Flex>\n                <WhiteSpace/>\n                <Flex>\n                    <Flex.Item>\n                        <Button type={orderType == 0?\"primary\":\"warning\"} onClick={() => {\n                            if (this.state.auditedStatus != 2) {\n                                this.kyc(true);\n                            } else {\n                                if (!this.countValue.value) {\n                                    Toast.fail(\"请填写金额！\")\n                                    return;\n                                }\n\n                                if (!this.priceValue.value) {\n                                    Toast.fail(\"请填写价格！\")\n                                    return;\n                                }\n\n                                let value = new BigNumber(this.countValue.value).multipliedBy(new BigNumber(10).pow(18));\n                                let min = new BigNumber(this.minValue.value).multipliedBy(new BigNumber(10).pow(18));\n                                let max = new BigNumber(this.maxValue.value).multipliedBy(new BigNumber(10).pow(18));\n                                let price = new BigNumber(this.priceValue.value).multipliedBy(1000000000);\n\n                                if (price.isZero()) {\n                                    Toast.fail(\"price is zero\")\n                                    return;\n                                }\n\n                                if (value.isZero()) {\n                                    Toast.fail(\"value is zero\")\n                                    return;\n                                }\n\n                                if (max.isZero()) {\n                                    Toast.fail(\"max is zero\")\n                                    return;\n                                }\n\n                                if (min.comparedTo(max) > 0) {\n                                    Toast.fail(\"min must <= max\")\n                                    return;\n                                }\n\n                                if (max.comparedTo(value) > 0) {\n                                    Toast.fail(\"max must <= amount\")\n                                    return;\n                                }\n\n                                if (orderType === 1) {\n                                    oAbi.businessSell(this.state.pk, this.state.mainPKr, this.state.token, value, min, max, price, this.state.unit);\n                                } else {\n                                    oAbi.businessBuy(this.state.pk, this.state.mainPKr, this.state.token, value, min, max, price, this.state.unit);\n                                }\n                            }\n                        }}>{orderType == 0 ? \"立即买入\" : \"立即卖出\"}</Button>\n                    </Flex.Item>\n                </Flex>\n                {showOrders.length > 0 && <List renderHeader={() => '市场挂单'}>\n                    {orders}\n                </List>}\n\n            </div>\n        )\n    }\n}","import React, {Component} from 'react';\nimport 'semantic-ui-css/semantic.min.css';\nimport oAbi from '../oabi'\nimport {Brief, Button, Card, Flex, Icon, List, Modal, Radio, WhiteSpace} from \"antd-mobile\";\nimport {bytes32ToToken, randomByte32, showValue, formatDate} from \"../common\";\nimport BigNumber from 'bignumber.js'\nimport language from '../language'\nimport Iframe from \"react-iframe\";\n\nconst alert = Modal.alert;\n\nexport class UserOrders extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            pk: localStorage.getItem(\"PK\"),\n            mainPKr: localStorage.getItem(\"MAINPKR\"),\n        };\n    }\n\n    render() {\n        let self = this;\n        let code = this.props.code;\n        let childs = this.props.order.childs.sort(function (a, b) {\n            return b.order.updateTime - a.order.updateTime;\n        });\n        let ordersHtml = childs.map((child, index) => {\n            let html;\n            if (child.order.status == 1) {\n                html = <div style={{textAlign: 'right'}}>\n                    <a onClick={() => {\n                        alert(language.e().order.confirm + \"/\" + language.e().order.refuse,\n                            <Flex>\n                                <Flex.Item style={{textAlign: \"right\"}}>\n                                    <div className=\"ui radio checkbox\">\n                                        <input type=\"radio\" ref={el => this.conform = el} name=\"op\"\n                                               checked=\"checked\" onChange={() => {\n                                        }}/>\n                                        <label>{language.e().order.confirm}</label>\n                                    </div>\n                                </Flex.Item>\n                                <Flex.Item>\n                                    <div className=\"ui radio checkbox\">\n                                        <input type=\"radio\" ref={el => this.refuse = el} name=\"op\"\n                                               onChange={() => {\n                                               }}/>\n                                        <label>{language.e().order.refuse}</label>\n                                    </div>\n                                </Flex.Item>\n                            </Flex>\n                            , [\n                                {text: language.e().modal.cancel, onPress: () => console.log('cancel')},\n                                {\n                                    text: language.e().modal.ok, onPress: () => {\n                                        if (this.conform.checked) {\n                                            oAbi.pkrEncrypt(child.pkr, oAbi.code1(code), function (mcode) {\n                                                oAbi.confirmed(self.state.pk, self.state.mainPKr, child.id, mcode);\n                                            });\n                                        } else {\n                                            oAbi.refused(self.state.pk, self.state.mainPKr, child.id);\n                                        }\n                                    }\n                                },\n                            ]);\n                    }}>\n                        {language.e().order.op}\n                    </a>\n                </div>\n            } else if (child.order.status == 2) {\n                let value = new BigNumber(child.order.price).multipliedBy(child.order.value).dividedBy(new BigNumber(10).pow(27)).toNumber();\n                if (child.order.orderType == 1) {\n                    if (parseInt(new Date().getTime() / 1000) - child.order.updateTime < 24 * 60 * 60) {\n                        html =\n                            <span>{language.e().order.tips2_0},{value} CNY</span>\n                    } else {\n                        html = <span>超时放行,<a onClick={() => {\n                            alert(\"结束订单\", <span>ID:{child.id}</span>, [\n                                {text: language.e().modal.cancel, onPress: () => console.log('cancel')},\n                                {\n                                    text: language.e().modal.ok, onPress: () => {\n                                        oAbi.finished(self.state.pk, self.state.mainPKr, child.id);\n                                    }\n                                },\n                            ]);\n                        }}>完成</a></span>\n                    }\n                } else {\n                    if (parseInt(new Date().getTime() / 1000) - child.order.updateTime > 24 * 60 * 60) {\n                        html =\n                            <span>{language.e().order.tips2_4},<a onClick={() => {\n                                alert(\"请确认未收到付款!\", <span>应收:{value} CNY</span>, [\n                                    {\n                                        text: language.e().modal.cancel, onPress: () => {\n                                        }\n                                    },\n                                    {\n                                        text: language.e().modal.ok, onPress: () => {\n                                            oAbi.refused(self.state.pk, self.state.mainPKr, child.id);\n                                        }\n                                    }\n                                ])\n                            }}\n                            >取消</a></span>\n                    } else {\n                        html = <span>{language.e().order.tips2_1}{value}CNY,<a onClick={() => {\n\n                            alert(language.e().order.tips2_3, <span>应收:{value} CNY</span>, [\n                                {\n                                    text: language.e().modal.cancel, onPress: () => {\n                                    }\n                                },\n                                {\n                                    text: language.e().modal.ok, onPress: () => {\n                                        oAbi.finished(self.state.pk, self.state.mainPKr, child.id);\n                                    }\n                                },\n                            ]);\n                        }}>{language.e().order.pass}</a>\n                            </span>\n                    }\n                }\n            } else {\n                let text;\n                if (child.order.status == 3) {\n                    text = language.e().order.tips3;\n                } else if (child.order.status == 4) {\n                    text = language.e().order.tips4;\n                } else if (child.order.status == 5) {\n                    text = language.e().order.tips5;\n                }\n                html = <span>{text}</span>\n            }\n\n            return <div key={index}>\n                <Card>\n                    <Card.Header\n                        title={<span>订单号:{child.id}</span>}\n                        extra={html}\n                    />\n                    <Card.Body>\n                        <div>\n                            <Flex style={{fontSize: '14px'}}>\n                                <Flex.Item style={{flex: 1}}>{showValue(child.order.price, 9, 4)}</Flex.Item>\n                                <Flex.Item style={{flex: 1}}>{showValue(child.order.value, 18, 4)}</Flex.Item>\n                            </Flex>\n                        </div>\n                    </Card.Body>\n                    <Card.Footer content={formatDate(new Date(child.order.updateTime * 1000))} extra={<span>\n                        <a onClick={() => {\n                            console.log(\"child.mcode\",child.mcode);\n                            oAbi.pkrDecrypt(self.state.pk, child.mcode, function (code1) {\n                                if (oAbi.code2(code1) === child.hcode) {\n                                    let url = \"https://ahoj.xyz/level/code1/\" + code1 + \"?lang=cn\";\n                                    Modal.alert('', <Iframe url={url}\n                                                            width=\"100%\"\n                                                            height=\"450px\"\n                                                            display=\"initial\"\n                                                            position=\"relative\"/>);\n                                }\n                            });\n                        }}>支付信息</a>\n                    </span>}/>\n                </Card>\n                <WhiteSpace size=\"sm\"/>\n            </div>\n\n        });\n        let back = this.props.back;\n\n        return (\n            <div>\n                <div>\n                    <Button onClick={() => {\n                        back();\n                    }}>返回</Button><WhiteSpace/>\n                </div>\n                {ordersHtml}\n            </div>\n\n\n        )\n    }\n}","import React, {Component} from 'react';\nimport 'semantic-ui-css/semantic.min.css';\nimport oAbi from '../oabi'\nimport {Brief, Button, Card, Flex, Icon, List, Modal, Radio, WhiteSpace} from \"antd-mobile\";\nimport {bytes32ToToken, randomByte32, showValue, formatDate} from \"../common\";\nimport BasePage from \"../basepage\";\nimport BigNumber from 'bignumber.js'\nimport language from '../language'\nimport {UserOrders} from \"./userorders\";\n\nconst alert = Modal.alert;\n\nexport class BOrders extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            pk: this.props.pk,\n            orders: [],\n            order: null\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        let self = this;\n        if (nextProps.pk != this.props.pk) {\n            oAbi.accountDetails(nextProps.pk, function (account) {\n                oAbi.myKyc(account.pk, account.mainPKr, function (code) {\n                    self.setState({pk: nextProps.pk, mainPKr: account.mainPKr, code: code});\n                    self.init(account.mainPKr);\n                })\n            });\n        }\n    }\n\n    componentDidMount() {\n        let self = this;\n        oAbi.init\n            .then(() => {\n                oAbi.accountDetails(this.state.pk, function (account) {\n                    oAbi.myKyc(account.pk, account.mainPKr, function (code) {\n                        self.setState({pk: account.pk, mainPKr: account.mainPKr, code: code});\n                        self.init(account.mainPKr);\n                        self.timer = setInterval(function () {\n                            self.init();\n                        }, 10 * 1000);\n                    });\n                });\n            });\n    }\n\n    componentWillUnmount() {\n        if (this.timer) {\n            clearInterval(this.timer);\n        }\n    }\n\n    init(mainPKr) {\n        let self = this;\n        if (!mainPKr) {\n            mainPKr = this.state.mainPKr;\n        }\n        oAbi.businessOrders(mainPKr, \"\", 0, true, function (orders) {\n            orders.sort(function (a, b) {\n                return b.order.timestemp - a.order.timestemp;\n            });\n            if (orders.length > 0) {\n                let orderMap = new Map();\n                orders.forEach(item => {\n                    item.childs = [];\n                    orderMap.set(item.id, item);\n                });\n                oAbi.userOrders(mainPKr, false, function (childs) {\n                    if (childs.length > 0) {\n                        let pkrs = [];\n                        childs.forEach(item => {\n                            item.pkr = \"0x\" + item.order.owner.slice(-40);\n                            pkrs.push(item.pkr);\n                            orderMap.get(item.order.businessOrderId).childs.push(item);\n                        });\n\n                        oAbi.getFullAddress(pkrs, function (rets) {\n                            childs.forEach(item => {\n                                item.pkr = rets.result[item.pkr];\n                            });\n                            self.setState({orders: orders});\n                        });\n                    } else {\n                        self.setState({orders: orders});\n                    }\n                });\n            } else {\n                self.setState({orders: []});\n            }\n        });\n    }\n\n    back() {\n        this.setState({order: null});\n    }\n\n    render() {\n        let self = this;\n        let orders = this.state.orders.map((item, index) => {\n            let num = 0;\n            let canCancel = true;\n            let underway = item.order.status == 0 && new BigNumber(item.order.value).comparedTo(new BigNumber(item.order.dealtValue)) > 0;\n            if (underway && item.childs && item.childs.length > 0) {\n                item.childs.map((child, cindex) => {\n                    if (child.order.status == 1 || child.order.status == 2) {\n                        canCancel = false;\n                        num++;\n                    }\n                });\n            }\n            let status = \"进行中\";\n            if (!underway) {\n                canCancel = false;\n                status = item.order.status == 4 ? \"已取消\" : \"已完成\";\n            }\n\n            return <div className=\"item\" key={index}>\n                <Flex style={{fontSize: '12px'}}>\n                    <Flex.Item\n                        style={{flex: 1}}>{item.id}</Flex.Item>\n                    <Flex.Item\n                        style={{flex: 2}}>{item.order.orderType == 0 ? language.e().order.buy : language.e().order.sell}{bytes32ToToken(item.order.token)}</Flex.Item>\n                    <Flex.Item style={{flex: 1}}>{showValue(item.order.price, 9, 4)}  {oAbi.unitName(item.order.unit)}</Flex.Item>\n                    <Flex.Item style={{flex: 1}}>{showValue(item.order.value, 18, 4)}</Flex.Item>\n                    <Flex.Item style={{flex: 1}}>\n                        {\n                            canCancel ? <a onClick={() => {\n                                alert(language.e().order.cancel, <span>ID:{item.id}</span>, [\n                                    {text: language.e().modal.cancel, onPress: () => console.log('cancel')},\n                                    {\n                                        text: language.e().modal.ok, onPress: () => {\n                                            oAbi.businessCancel(this.state.pk, this.state.mainPKr, item.id);\n                                        }\n                                    },\n                                ])\n                            }\n                            }>撤消</a> : status\n                        }\n                    </Flex.Item>\n                    <Flex.Item style={{flex: 1}}>{num}</Flex.Item>\n                    <Flex.Item style={{flex: 1, textAlign: 'right'}}><a onClick={() => {\n                        self.setState({order: item});\n                    }}><Icon type=\"right\"/></a></Flex.Item>\n                </Flex>\n            </div>\n        });\n\n        return (\n            <div className=\"ui segment\">\n                {\n                    this.state.order != null ? <UserOrders order={this.state.order} back={this.back.bind(this)} code={this.state.code}/> :\n                        <div className=\"ui list\">\n                            <div className=\"item\">\n                                <Flex style={{fontSize: '12px', fontWeight: 'bold'}}>\n                                    <Flex.Item\n                                        style={{flex: 1}}>ID</Flex.Item>\n                                    <Flex.Item\n                                        style={{flex: 2}}>{language.e().order.orderType}</Flex.Item>\n                                    <Flex.Item style={{flex: 1}}>{language.e().order.price}</Flex.Item>\n                                    <Flex.Item style={{flex: 1}}>{language.e().order.amount}</Flex.Item>\n                                    <Flex.Item style={{flex: 1}}>状态</Flex.Item>\n                                    <Flex.Item style={{flex: 1}}>交易</Flex.Item>\n                                    <Flex.Item style={{flex: 1}}></Flex.Item>\n                                </Flex>\n                            </div>\n                            {\n                                orders && orders.length > 0 ? orders :\n                                    <div className=\"item\" style={{textAlign: 'center'}}>\n                                        <Icon type=\"iconnodata-topic\" style={{width: \"100px\", height: \"100px\"}}/>\n                                    </div>\n                            }\n                        </div>\n                }\n            </div>\n        )\n    }\n}","import React, {Component} from 'react';\nimport {WingBlank, SegmentedControl, NavBar, Icon, Tabs, Modal, WhiteSpace} from \"antd-mobile\";\nimport './App.css';\nimport 'semantic-ui-css/semantic.min.css';\nimport oAbi from './component/oabi'\nimport {showPK} from \"./component/common\";\nimport {AuditingList} from \"./component/auditing\";\nimport {COrders} from \"./component/consumer/corders\";\nimport {MarketOrders} from \"./component/consumer/marketorders\";\nimport {Placeorder} from \"./component/business/placeorder\";\nimport {BOrders} from \"./component/business/borders\";\n\nconst operation = Modal.operation;\n\nconst tabs0 = [\n    {title: \"买入\", showType: 0},\n    {title: \"卖出\", showType: 1},\n    {title: \"订单\", showType: 2},\n];\n\nconst tabs1 = [\n    {title: \"商家买入\", showType: 0},\n    {title: \"商家卖出\", showType: 1},\n    {title: \"商家订单\", showType: 2},\n];\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props);\n        let selectedIndex = 0;\n        if (document.URL.indexOf(\"page=business\") != -1) {\n            selectedIndex = 1;\n        }\n        this.state = {\n            name: localStorage.getItem(\"NAME\"),\n            pk: localStorage.getItem(\"PK\"),\n            mainPKr: localStorage.getItem(\"MAINPKR\"),\n            selectedIndex: selectedIndex,\n            showType: 0,\n            isOwner: false\n        }\n    }\n\n    componentDidMount() {\n        let self = this;\n\n        oAbi.init\n            .then(() => {\n                let pk = localStorage.getItem(\"PK\");\n                if (!pk) {\n                    oAbi.accountList(function (accounts) {\n                        localStorage.setItem(\"PK\", accounts[0].pk);\n                        localStorage.setItem(\"MAINPKR\", accounts[0].mainPKr);\n                        localStorage.setItem(\"NAME\", accounts[0].name);\n                        oAbi.auditor(accounts[0].pk, function (owner) {\n                            self.setState({\n                                pk: accounts[0].pk,\n                                mainPKr: accounts[0].mainPKr,\n                                isOwner: accounts[0].mainPKr == owner\n                            });\n                        });\n                    });\n                } else {\n                    let mainPKr = localStorage.getItem(\"MAINPKR\");\n                    let name = localStorage.getItem(\"NAME\");\n                    oAbi.auditor(mainPKr, function (owner) {\n                        self.setState({pk: pk, mainPKr: mainPKr, name: name, isOwner: mainPKr == owner});\n                    });\n                }\n            })\n    }\n\n    changAccount() {\n        let self = this;\n        oAbi.init\n            .then(() => {\n                oAbi.accountList(function (accounts) {\n                    let actions = [];\n                    accounts.forEach(function (account, index) {\n                        actions.push(\n                            {\n                                text: <span>{account.name + \":\" + showPK(account.pk)}</span>, onPress: () => {\n                                    oAbi.auditor(account.mainPKr, function (owner) {\n                                        self.setState({isOwner: account.mainPKr == owner});\n                                    });\n                                    self.setState({\n                                        pk: account.pk,\n                                        name: account.name,\n                                        mainPKr: account.mainPKr,\n\n                                    });\n                                    localStorage.setItem(\"NAME\", account.name);\n                                    localStorage.setItem(\"PK\", account.pk);\n                                    localStorage.setItem(\"MAINPKR\", account.mainPKr);\n                                }\n                            }\n                        );\n                    });\n                    operation(actions);\n                });\n            })\n    }\n\n    renderContent(showType) {\n        if (this.state.selectedIndex == 0) {\n            if (showType == 2) {\n                return <COrders pk={this.state.pk}/>;\n            } else {\n                return <MarketOrders pk={this.state.pk} orderType={showType}/>\n            }\n        } else {\n            if (showType == 2) {\n                return <BOrders pk={this.state.pk}/>;\n            } else {\n                return <Placeorder pk={this.state.pk} orderType={showType}/>\n            }\n        }\n    }\n\n    render() {\n        return (\n            <WingBlank>\n                <NavBar\n                    mode=\"light\"\n                    rightContent={[\n                        <span key=\"2\">{this.state.name}</span>,\n                        <Icon key=\"1\" type=\"iconaccount\" className=\"text-black\" onClick={this.changAccount.bind(this)}/>\n                    ]}\n                >\n                    <SegmentedControl\n                        values={['个人', '商家']}\n                        tintColor={'#000'}\n                        style={{width: '150px'}}\n                        selectedIndex={this.state.selectedIndex}\n                        onValueChange={() => {\n                            this.setState({showType: 0, selectedIndex: (this.state.selectedIndex + 1) % 2})\n                        }}\n                    />\n                </NavBar>\n\n                <div>\n                    {\n                        this.state.selectedIndex == 0 ?\n                            <Tabs tabs={tabs0}\n                                  swipeable={false}\n                                  initialPage={0}\n                                  onChange={(tab, index) => {\n                                      this.setState({showType: tab.showType})\n                                  }}\n                                  onTabClick={(tab, index) => {\n                                      this.setState({showType: tab.showType})\n                                  }}\n                            >\n                            </Tabs> :\n                            <Tabs tabs={tabs1}\n                                  swipeable={false}\n                                  initialPage={0}\n                                  onChange={(tab, index) => {\n                                      this.setState({showType: tab.showType})\n                                  }}\n                                  onTabClick={(tab, index) => {\n                                      this.setState({showType: tab.showType})\n                                  }}\n                            >\n                            </Tabs>\n                    }\n                    {\n                        this.renderContent(this.state.showType)\n                    }\n\n                </div>\n                <WhiteSpace/>\n                {\n                    this.state.isOwner && <AuditingList/>\n                }\n            </WingBlank>\n        )\n    }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}