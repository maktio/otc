(this.webpackJsonpotc=this.webpackJsonpotc||[]).push([[0],{1:function(e,t,n){"use strict";var a=n(16),r=["zh_CN","en_US","be_BY","ja_JP","ko_KR"],i=new function e(){var t=this;Object(a.a)(this,e),this.set=function(e){r.indexOf(e)>-1?localStorage.setItem("language",e):localStorage.setItem("language","en_US")},this.e=function(){var e=localStorage.getItem("language");return"zh_CN"===e?t.zh_CN:"en_US"===e?t.en_US:"be_BY"===e?t.be_BY:"ja_JP"===e?t.ja_JP:"ko_KR"===e?t.ko_KR:-8===(new Date).getTimezoneOffset()/60?t.zh_CN:t.en_US},this.zh_CN={text:"\u8bed\u8a00",change:"\u5207\u6362",modal:{ok:"\u786e\u5b9a",cancel:"\u53d6\u6d88"},kyc:{title1:"\u672a\u5b8c\u6210KYC\u4fe1\u606f\uff0c\u8bf7\u5b8c\u6210",msg1:"\u70b9\u786e\u5b9a\u7ee7\u7eed",title2:"\u8bbe\u7f6e\u6635\u79f0",title3:"\u672a\u63d0\u4ea4\u5ba1\u6838",msg3:"\u70b9\u51fb\u786e\u5b9a\u63d0\u4ea4\u5ba1\u6838",title4:"\u7b49\u5f85\u5ba1\u6838\u901a\u8fc7"},order:{buy:"\u4e70\u5165",sell:"\u5356\u51fa",time:"\u65f6\u95f4",price:"\u4ef7\u683c",amount:"\u6570\u91cf",dealAmount:"\u6210\u4ea4\u91cf",orderType:"\u4ea4\u6613\u7c7b\u578b",op:"\u64cd\u4f5c",cancel:"\u64a4\u6d88\u8ba2\u5355",confirm:"\u786e\u8ba4",refuse:"\u62d2\u7edd",pass:"\u653e\u884c",tips1:"\u5f85\u786e\u8ba4,\u8bf7\u8054\u7cfb\u5546\u5bb6\u786e\u8ba4\u8ba2\u5355",tips2_0:"\u5f85\u4ed8\u6b3e",tips2_1:"\u5e94\u6536",tips2_3:"\u8bf7\u786e\u8ba4\u5df2\u6536\u6b3e\uff01",tips2_4:"\u8d85\u65f6\u672a\u6536\u5230\u4ed8\u6b3e",tips3:"\u5df2\u62d2\u7edd",tips4:"\u5df2\u53d6\u6d88",tips5:"\u5df2\u5b8c\u6210",tips6:"\u70b9\u786e\u5b9a\u7ee7\u7eed",tips7:"\u64a4\u6d88\u8ba2\u5355",tips8:"\u8054\u7cfb\u5546\u5bb6",tips9:"\u8d85\u65f6\u653e\u884c\u540e\u8bf7\u81ea\u884c\u653e\u884c",tips10:"\u8bf7\u786e\u8ba4\u5df2\u652f\u4ed8",tips11:"\u8bf7\u786e\u8ba4\u5df2\u652f\u4ed8",tips12:"\u8bf7\u786e\u8ba4\u5df2\u6536\u5230"}},this.en_US={text:"Language",button:{ok:"OK",cancel:"Cancel"}},this.be_BY={text:"\u044f\u0437\u044b\u043a\u0430",Button:{ok:"OK",cancek:"\u041e\u0442\u043c\u0435\u043d\u0430"},tabBar:{price:"\u0440\u044b\u043d\u043a\u0438",trade:"\u0442\u043e\u0440\u0433\u043e\u0432\u0430\u0442\u044c",assets:"\u0430\u043a\u0442\u0438\u0432\u044b"},home:{account:"\u0443\u0447\u0435\u0442\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c",change:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c",name:"\u0438\u043c\u044f",trade:"\u0442\u043e\u0440\u0433\u043e\u0432\u0430\u0442\u044c",lastPrice:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0446\u0435\u043d\u0430"},trade:{buy:"\u043a\u0443\u043f\u0438\u0442\u044c",sell:"\u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u044c",orderPrice:"\u0426\u0435\u043d\u0430",orderNum:"\u0441\u0443\u043c\u043c\u0430",available:"\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0439",amount:"\u0441\u0443\u043c\u043c\u0430",price:"\u0426\u0435\u043d\u0430",num:"\u0441\u0443\u043c\u043c\u0430",openOrders:"\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0435 \u0437\u0430\u043a\u0430\u0437\u044b",all:"\u0432\u0441\u0435",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",cancelAll:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0441\u0435",finished:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0439",canceled:"\u043e\u0442\u043c\u0435\u043d\u0435\u043d",total:"\u043e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",volume:"\u043e\u0431\u044a\u0435\u043c",depth:"depth map"},assets:{total:"\u0418\u0442\u043e\u0433\u043e\u0432\u044b\u0439 \u0431\u0430\u043b\u0430\u043d\u0441",available:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0439",locked:"\u0432 \u0437\u0430\u043a\u0430\u0437\u0430\u0445",rechange:"\u043f\u0435\u0440\u0435\u0437\u0430\u0440\u044f\u0434\u043a\u0430",withdrawal:"\u0421\u0443\u043c\u043c\u0430 \u0432\u044b\u0432\u043e\u0434\u0430",trade:"\u0442\u043e\u0440\u0433\u043e\u0432\u0430\u0442\u044c",num:"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}},this.ja_JP={text:"\u8a00\u8a9e",Button:{ok:"OK",cancek:"\u30ad\u30e3\u30f3\u30bb\u30eb"},tabBar:{price:"\u5e02\u5834",trade:"\u30c8\u30ec\u30fc\u30c9",assets:"\u8cc7\u7523"},home:{account:"\u30a2\u30ab\u30a6\u30f3\u30c8",change:"\u5909\u5316\u3059\u308b",name:"\u540d\u524d",trade:"\u30c8\u30ec\u30fc\u30c9",lastPrice:"\u6700\u5f8c\u4fa1\u683c"},trade:{buy:"\u8cfc\u5165",sell:"\u58f2\u308b",orderPrice:"\u4fa1\u683c",orderNum:"\u91cf",available:"\u5229\u7528\u53ef\u80fd",amount:"\u91cf",price:"\u4fa1\u683c",num:"\u91cf",openOrders:"\u672a\u51e6\u7406\u306e\u6ce8\u6587",all:"\u3059\u3079\u3066",cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",cancelAll:"\u3059\u3079\u3066\u30ad\u30e3\u30f3\u30bb\u30eb",finished:"\u5b8c\u6210\u3057\u305f",canceled:"\u30ad\u30e3\u30f3\u30bb\u30eb",total:"\u5408\u8a08",volume:"\u30dc\u30ea\u30e5\u30fc\u30e0",depth:"depth map"},assets:{total:"\u5408\u8a08",available:"\u5229\u7528\u53ef\u80fd",locked:"\u9806\u756a\u306b",rechange:"\u4fdd\u8a3c\u91d1",withdrawal:"\u64a4\u56de",trade:"\u30c8\u30ec\u30fc\u30c9",num:"\u91cf"}},this.ko_KR={text:"\uc5b8\uc5b4",Button:{ok:"OK",cancek:"\ucde8\uc18c"},tabBar:{price:"\uc2dc\uc7a5",trade:"\ubb34\uc5ed",assets:"\uc790\uc0b0"},home:{account:"\uacc4\uc815",change:"\ubcc0\ud654",name:"\uc774\ub984",trade:"\ubb34\uc5ed",lastPrice:"\ub9c8\uc9c0\ub9c9 \uac00\uaca9"},trade:{buy:"\uad6c\uc785",sell:"\ud314\ub2e4",orderPrice:"\uac00\uaca9",orderNum:"\uc591",available:"\uc774\uc6a9\ud560 \uc218 \uc788\ub294",amount:"\uc591",price:"\uac00\uaca9",num:"\uc591",openOrders:"\uc8fc\ubb38 \uc5f4\uae30",all:"\ubaa8\ub450",cancel:"\ucde8\uc18c",cancelAll:"\ubaa8\ub450 \ucde8\uc18c",finished:"\uc644\uc131\ub428",canceled:"\ucde8\uc18c \ub41c",total:"\ud569\uacc4",volume:"\uc74c\ub7c9",depth:"depth map"},assets:{total:"\ud569\uacc4",available:"\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc794\uc561",locked:"\uc21c\uc11c\ub300\ub85c",rechange:"\uc7ac\ucda9\uc804",withdrawal:"\ucca0\uc218",trade:"\ubb34\uc5ed",num:"\uc591"}}};t.a=i},230:function(e,t,n){e.exports=n(493)},235:function(e,t,n){},236:function(e,t,n){},3:function(e,t,n){"use strict";n(116);var a=n(30),r=n.n(a),i=n(16),l=n(17),u=n(229),s=n.n(u),o=n(48),c=n.n(o),m=(n(8),n(143)),p=n.n(m),d=function(){function e(){Object(i.a)(this,e)}return Object(l.a)(e,[{key:"seroRpc",value:function(e,t,n,a){var r={id:0,jsonrpc:"2.0",method:t,params:n};p.a.post(e,r).then((function(e){var t=e.data;a&&a(t)})).catch((function(e){console.log("req error: ",e)}))}},{key:"get",value:function(e,t){p.a.get(e).then((function(e){t&&t(e.data)}))}}]),e}(),y=n(9),f=n.n(y),h={name:"OTC",contractAddress:"5Yc7VZw2nSoFxkMgKQSqhiD6HNGHsFmxtCFyP3JgsnC8QSBWXY4jMw32PNxVNbPH7LL4jY4GX9gJZWS1EryGt1wn",github:"https://github.com/coral-dex/otc",author:"otc",url:document.location.href,logo:document.location.protocol+"//"+document.location.host+"/otc/logo.png"},b=s.a.callContract([{inputs:[{internalType:"address",name:"_auditor",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"bytes32",name:"hcode",type:"bytes32"},{internalType:"uint8",name:"label",type:"uint8"}],name:"addLable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"token",type:"string"}],name:"addToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"hcodes",type:"bytes32[]"},{internalType:"bool",name:"status",type:"bool"}],name:"audited",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"auditingList",outputs:[{components:[{internalType:"bytes32",name:"hcode",type:"bytes32"},{internalType:"bytes32",name:"pcode",type:"bytes32"}],internalType:"struct OTC.RetAuditedInfo[]",name:"rets",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"auditor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"minDealValue",type:"uint256"},{internalType:"uint256",name:"maxDealVlaue",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"unit",type:"uint8"}],name:"businessBuy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"orderId",type:"uint256"}],name:"businessCancel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"uint8",name:"unit",type:"uint8"},{internalType:"bool",name:"myself",type:"bool"}],name:"businessOrders",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{components:[{internalType:"address",name:"owner",type:"address"},{internalType:"bytes32",name:"token",type:"bytes32"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"dealtValue",type:"uint256"},{internalType:"uint256",name:"lockinValue",type:"uint256"},{internalType:"uint256",name:"minDealValue",type:"uint256"},{internalType:"uint256",name:"maxDealValue",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"timestemp",type:"uint256"},{internalType:"uint8",name:"unit",type:"uint8"},{internalType:"enum Types.OrderType",name:"orderType",type:"uint8"},{internalType:"enum Types.OrderStatus",name:"status",type:"uint8"}],internalType:"struct Types.BusinessOrder",name:"order",type:"tuple"},{internalType:"string",name:"name",type:"string"},{internalType:"bytes32",name:"hcode",type:"bytes32"},{internalType:"uint256",name:"deals",type:"uint256"},{internalType:"uint256",name:"arbitration",type:"uint256"},{internalType:"uint8[]",name:"labels",type:"uint8[]"}],internalType:"struct OTC.RetBusinessOrder[]",name:"rets",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"minDealValue",type:"uint256"},{internalType:"uint256",name:"maxDealVlaue",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"unit",type:"uint8"}],name:"businessSell",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"userOrderId",type:"uint256"},{internalType:"bytes32",name:"mcode",type:"bytes32"}],name:"confirmed",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"mcode",type:"bytes32"},{internalType:"uint256",name:"orderId",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"exchangeBuy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"mcode",type:"bytes32"},{internalType:"uint256",name:"orderId",type:"uint256"}],name:"exchangeSell",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"userOrderId",type:"uint256"},{internalType:"bool",name:"businessWin",type:"bool"}],name:"executeArbitrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"userOrderId",type:"uint256"}],name:"finished",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"hcode",type:"bytes32"}],name:"invalidAudited",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"myKyc",outputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"pcode",type:"bytes32"}],name:"needAuditing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"userOrderId",type:"uint256"}],name:"orderInfo",outputs:[{components:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"businessOrderId",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bytes32",name:"token",type:"bytes32"},{internalType:"uint256",name:"createTime",type:"uint256"},{internalType:"uint256",name:"updateTime",type:"uint256"},{internalType:"enum Types.OrderStatus",name:"status",type:"uint8"},{internalType:"enum Types.OrderType",name:"orderType",type:"uint8"}],internalType:"struct Types.UserOrder",name:"userOrder",type:"tuple"},{components:[{internalType:"address",name:"owner",type:"address"},{internalType:"bytes32",name:"token",type:"bytes32"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"dealtValue",type:"uint256"},{internalType:"uint256",name:"lockinValue",type:"uint256"},{internalType:"uint256",name:"minDealValue",type:"uint256"},{internalType:"uint256",name:"maxDealValue",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"timestemp",type:"uint256"},{internalType:"uint8",name:"unit",type:"uint8"},{internalType:"enum Types.OrderType",name:"orderType",type:"uint8"},{internalType:"enum Types.OrderStatus",name:"status",type:"uint8"}],internalType:"struct Types.BusinessOrder",name:"businessOrder",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"userOrderId",type:"uint256"}],name:"refused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"bytes32",name:"hcode",type:"bytes32"},{internalType:"bytes32",name:"ecode",type:"bytes32"},{internalType:"bytes32",name:"pcode",type:"bytes32"}],name:"registerKyc",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_auditor",type:"address"}],name:"setAuditor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"orderId",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"}],name:"updatePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"userOrderId",type:"uint256"}],name:"userCancel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"myself",type:"bool"}],name:"userOrders",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{components:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"businessOrderId",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bytes32",name:"token",type:"bytes32"},{internalType:"uint256",name:"createTime",type:"uint256"},{internalType:"uint256",name:"updateTime",type:"uint256"},{internalType:"enum Types.OrderStatus",name:"status",type:"uint8"},{internalType:"enum Types.OrderType",name:"orderType",type:"uint8"}],internalType:"struct Types.UserOrder",name:"order",type:"tuple"},{internalType:"bytes32",name:"hcode",type:"bytes32"},{internalType:"bytes32",name:"ecode",type:"bytes32"},{internalType:"string",name:"name",type:"string"}],internalType:"struct OTC.RetUserOrder[]",name:"rets",type:"tuple[]"}],stateMutability:"view",type:"function"}],"5Yc7VZw2nSoFxkMgKQSqhiD6HNGHsFmxtCFyP3JgsnC8QSBWXY4jMw32PNxVNbPH7LL4jY4GX9gJZWS1EryGt1wn"),v=new d,k=new Map([["SCNY",0],["SUSD",1]]),E=new(function(){function e(){Object(i.a)(this,e);this.init=new Promise((function(e,t){c.a.init(h,(function(n){return"success"===n?e():t(n)}))}))}return Object(l.a)(e,[{key:"unit",value:function(e){return k.get(e)}},{key:"tokenList",value:function(){return["SCNY","SUSD"]}},{key:"initLanguage",value:function(e){c.a.getInfo((function(t){e(t.language)}))}},{key:"accountDetails",value:function(e,t){c.a.getAccountDetail(e,(function(e){t({pk:e.PK,mainPKr:e.MainPKr,name:e.Name,balances:e.Balance})}))}},{key:"accountList",value:function(e){c.a.getAccountList((function(t){var n=[];t.forEach((function(e,t){n.push({pk:e.PK,mainPKr:e.MainPKr,name:e.Name,balances:e.Balance})})),e(n)}))}},{key:"callMethod",value:function(e,t,n,a,r){var i=e.packData(t,a,!0),l={from:n,to:e.address,data:i};c.a.call(l,(function(n){if("0x"!==n){var a=e.unPackDataEx(t,n);r&&r(a)}else r("0x0")}))}},{key:"executeMethod",value:function(e,t,n,a,i,l,u,s){var o="0x";""!==t&&(o=e.packData(t,i,!0));var m={from:n,to:e.address,value:"0x"+u.toString(16),data:o,gasPrice:"0x"+new f.a("1000000000").toString(16),cy:l},p={from:a,to:e.address,value:"0x"+u.toString(16),data:o,gasPrice:"0x"+new f.a("1000000000").toString(16),cy:l};c.a.estimateGas(p,(function(e,t){t?r.a.fail("Failed to execute smart contract"):(m.gas=e,c.a.executeContract(m,(function(e,t){s&&s(e)})))}))}},{key:"getFullAddress",value:function(e,t){console.log(e),v.seroRpc("http://150.158.109.143:8545","sero_getFullAddress",[e],(function(e){t(e)}))}},{key:"auditor",value:function(e,t){var n=this;this.callMethod(b,"auditor",e,[],(function(e){n.getFullAddress([e[0]],(function(n){t(n.result[e[0]])}))}))}},{key:"auditingList",value:function(e,t){this.callMethod(b,"auditingList",e,[],(function(e){console.log("auditingList",e.rets),t(e.rets)}))}},{key:"myKyc",value:function(e,t){this.callMethod(b,"myKyc",e,[],(function(e){t("0x0000000000000000000000000000000000000000000000000000000000000000"!=e[0]?e[0]:null,"0x0000000000000000000000000000000000000000000000000000000000000000"!=e[0]?e[1]:null,e[2])}))}},{key:"businessOrders",value:function(e,t,n,a,r){this.callMethod(b,"businessOrders",e,[t,n,a],(function(e){r(e.rets)}))}},{key:"userOrders",value:function(e,t,n){this.callMethod(b,"userOrders",e,[t],(function(e){n(e.rets)}))}},{key:"needAuditing",value:function(e,t,n,a){this.executeMethod(b,"needAuditing",e,t,[n],"SERO",0,a)}},{key:"audited",value:function(e,t,n,a,r){this.executeMethod(b,"audited",e,t,[n,a],"SERO",0,r)}},{key:"invalidAudited",value:function(e,t,n,a){this.executeMethod(b,"invalidAudited",e,t,[n],"SERO",0,a)}},{key:"addLable",value:function(e,t,n,a,r){this.executeMethod(b,"addLable",e,t,[n,a],"SERO",0,r)}},{key:"registerKyc",value:function(e,t,n,a,r,i,l){this.executeMethod(b,"registerKyc",e,t,[n,a,r,i],"SERO",0,l)}},{key:"exchangeBuy",value:function(e,t,n,a,r,i){this.executeMethod(b,"exchangeBuy",e,t,[n,this.bigToHex(a),this.bigToHex(r)],"SERO",0,i)}},{key:"exchangeSell",value:function(e,t,n,a,r,i,l){this.executeMethod(b,"exchangeSell",e,t,[n,this.bigToHex(a)],r,i,l)}},{key:"bigToHex",value:function(e){return"0x"+new f.a(e).toString(16)}},{key:"businessSell",value:function(e,t,n,a,r,i,l,u,s){this.executeMethod(b,"businessSell",e,t,[this.bigToHex(r),this.bigToHex(i),this.bigToHex(l),u],n,a,s)}},{key:"businessBuy",value:function(e,t,n,a,r,i,l,u,s){this.executeMethod(b,"businessBuy",e,t,[n,this.bigToHex(a),this.bigToHex(r),this.bigToHex(i),this.bigToHex(l),u],"SERO",0,s)}},{key:"refused",value:function(e,t,n,a){this.executeMethod(b,"refused",e,t,[this.bigToHex(n)],"SERO",0,a)}},{key:"confirmed",value:function(e,t,n,a,r){this.executeMethod(b,"confirmed",e,t,[this.bigToHex(n),a],"SERO",0,r)}},{key:"finished",value:function(e,t,n,a){this.executeMethod(b,"finished",e,t,[this.bigToHex(n)],"SERO",0,a)}},{key:"userCancel",value:function(e,t,n,a){this.executeMethod(b,"userCancel",e,t,[this.bigToHex(n)],"SERO",0,a)}},{key:"businessCancel",value:function(e,t,n,a){this.executeMethod(b,"businessCancel",e,t,[this.bigToHex(n)],"SERO",0,a)}}]),e}());t.a=E},33:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));n(62);var a=n(18),r=n.n(a),i=(n(52),n(22)),l=n.n(i),u=n(16),s=n(17),o=n(20),c=n(19),m=n(0),p=n.n(m),d=n(3),y=n(8),f=n(1),h=function(t){Object(o.a)(a,t);var n=Object(c.a)(a);function a(e,t){var r;return Object(u.a)(this,a),(r=n.call(this,e)).state=Object.assign(t,{pk:r.props.pk,ecode:null,pcode:null,hasAudited:!1}),r}return Object(s.a)(a,[{key:"kyc",value:function(t){var n=this;this.state.ecode?this.state.pcode?l.a.alert(f.a.e().kyc.title4,"",[{text:p.a.createElement("span",null,f.a.e().modal.cancel)},{text:p.a.createElement("span",null,f.a.e().modal.ok),onPress:function(){}}]):l.a.alert(f.a.e().kyc.title3,f.a.e().kyc.msg3,[{text:p.a.createElement("span",null,f.a.e().button.cancel)},{text:p.a.createElement("span",null,f.a.e().button.ok),onPress:function(){var e="0x"+Object(y.c)();d.a.needAuditing(n.state.pk,n.state.mainPKr,e)}}]):l.a.alert(f.a.e().kyc.title1,f.a.e().kyc.msg1,[{text:p.a.createElement("span",null,f.a.e().modal.cancel)},{text:p.a.createElement("span",null,f.a.e().modal.ok),onPress:function(){l.a.alert(f.a.e().kyc.title2,p.a.createElement("div",null,p.a.createElement("div",{className:"ui input"},p.a.createElement("input",{type:"text",placeholder:"name",onChange:function(e){n.nameValue.value=e.target.value},ref:function(e){return n.nameValue=e}})),p.a.createElement(r.a,null),p.a.createElement("div",{className:"ui input"},p.a.createElement("input",{type:"text",value:Object(y.c)(),ref:function(e){return n.ecodeValue=e},onChange:function(){}})),p.a.createElement(r.a,null)),[{text:p.a.createElement("span",null,f.a.e().modal.cancel)},{text:p.a.createElement("span",null,f.a.e().modal.ok),onPress:function(){var a=n.nameValue.value,r=n.ecodeValue.value,i="0x"+e.from(r.substring(2),"hex").toString("hex");if(t){var l="0x"+e.from(r.substring(2),"hex").toString("hex");d.a.registerKyc(n.state.pk,n.state.mainPKr,a,r,i,l)}else d.a.registerKyc(n.state.pk,n.state.mainPKr,a,r,i,"0x0000000000000000000000000000000000000000000000000000000000000000");n.kycTimer=setInterval((function(){d.a.myKyc(n.state.mainPKr,(function(e,t){e&&(n.setState({ecode:e,hasAudited:t}),clearInterval(n.kycTimer))}))}),1e4)}}])}}])}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer),this.kycTimer&&clearInterval(this.kycTimer)}},{key:"componentDidMount",value:function(){var e=this,t=this;d.a.init.then((function(){d.a.accountDetails(e.state.pk,(function(e){d.a.myKyc(e.mainPKr,(function(n,a,r){t.setState({mainPKr:e.mainPKr,ecode:n,pcode:a,hasAudited:r}),t._componentDidMount&&t._componentDidMount(e.mainPKr)}))}))}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.pk!=this.props.pk&&d.a.accountDetails(e.pk,(function(n){d.a.myKyc(n.mainPKr,(function(a){t.setState({pk:e.pk,mainPKr:n.mainPKr,ecode:a}),t.init&&t.init(n.mainPKr)}))}))}}]),a}(m.Component)}).call(this,n(12).Buffer)},341:function(e,t){},351:function(e,t){},365:function(e,t){},367:function(e,t){},377:function(e,t){},379:function(e,t){},406:function(e,t){},408:function(e,t){},409:function(e,t){},415:function(e,t){},417:function(e,t){},429:function(e,t){},432:function(e,t){},448:function(e,t){},451:function(e,t){},458:function(e,t){},468:function(e,t){},493:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(28),l=n.n(i),u=(n(235),n(16)),s=n(17),o=n(20),c=n(19),m=(n(236),n(145),n(101)),p=n.n(m),d=(n(51),n(2)),y=n.n(d),f=(n(62),n(18)),h=n.n(f),b=(n(52),n(22)),v=n.n(b),k=(n(38),n(3)),E=n(8),g=(n(98),n(34)),T=n.n(g),x=(n(117),n(100)),O=n.n(x),P=n(33),w=n(9),I=n.n(w),S=n(1),K=(n(141),n(68)),j=n.n(K),C=(n(488),n(81)),M=n.n(C),N=v.a.alert,V=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={pk:localStorage.getItem("PK"),mainPKr:localStorage.getItem("MAINPKR")},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this,n=this.props.order.childs.sort((function(e,t){return t.order.updateTime-e.order.updateTime})).map((function(n,a){var i;if(1==n.order.status)i=r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement("a",{onClick:function(){N(S.a.e().order.confirm+"/"+S.a.e().order.refuse,r.a.createElement(y.a,null,r.a.createElement(y.a.Item,{style:{textAlign:"right"}},r.a.createElement("div",{className:"ui radio checkbox"},r.a.createElement("input",{type:"radio",ref:function(t){return e.conform=t},name:"op",checked:"checked",onChange:function(){}}),r.a.createElement("label",null,S.a.e().order.confirm))),r.a.createElement(y.a.Item,null,r.a.createElement("div",{className:"ui radio checkbox"},r.a.createElement("input",{type:"radio",ref:function(t){return e.refuse=t},name:"op",onChange:function(){}}),r.a.createElement("label",null,S.a.e().order.refuse)))),[{text:S.a.e().modal.cancel,onPress:function(){return console.log("cancel")}},{text:S.a.e().modal.ok,onPress:function(){e.conform.checked?k.a.confirmed(t.state.pk,t.state.mainPKr,n.id,Object(E.c)()):k.a.refused(t.state.pk,t.state.mainPKr,n.id)}}])}},S.a.e().order.op));else if(2==n.order.status){var l=new I.a(n.order.price).multipliedBy(n.order.value).dividedBy(new I.a(10).pow(27)).toNumber();i=1==n.order.orderType?parseInt((new Date).getTime()/1e3)-n.order.updateTime<86400?r.a.createElement("span",null,S.a.e().order.tips2_0,",",l," CNY"):r.a.createElement("span",null,"\u8d85\u65f6\u653e\u884c,",r.a.createElement("a",{onClick:function(){N("\u7ed3\u675f\u8ba2\u5355",r.a.createElement("span",null,"ID:",n.id),[{text:S.a.e().modal.cancel,onPress:function(){return console.log("cancel")}},{text:S.a.e().modal.ok,onPress:function(){k.a.finished(t.state.pk,t.state.mainPKr,n.id)}}])}},"\u5b8c\u6210")):parseInt((new Date).getTime()/1e3)-n.order.updateTime>86400?r.a.createElement("span",null,S.a.e().order.tips2_4,",",r.a.createElement("a",{onClick:function(){N("\u8bf7\u786e\u8ba4\u672a\u6536\u5230\u4ed8\u6b3e!",r.a.createElement("span",null,"\u5e94\u6536:",l," CNY"),[{text:S.a.e().modal.cancel,onPress:function(){}},{text:S.a.e().modal.ok,onPress:function(){k.a.refused(t.state.pk,t.state.mainPKr,n.id)}}])}},"\u53d6\u6d88")):r.a.createElement("span",null,S.a.e().order.tips2_1,l,"CNY,",r.a.createElement("a",{onClick:function(){N(S.a.e().order.tips2_3,r.a.createElement("span",null,"\u5e94\u6536:",l," CNY"),[{text:S.a.e().modal.cancel,onPress:function(){}},{text:S.a.e().modal.ok,onPress:function(){k.a.finished(t.state.pk,t.state.mainPKr,n.id)}}])}},S.a.e().order.pass))}else{var u;3==n.order.status?u=S.a.e().order.tips3:4==n.order.status?u=S.a.e().order.tips4:5==n.order.status&&(u=S.a.e().order.tips5),i=r.a.createElement("span",null,u)}return r.a.createElement("div",{key:a},r.a.createElement(M.a,null,r.a.createElement(M.a.Header,{title:r.a.createElement("span",null,"\u8ba2\u5355\u53f7:",n.id),extra:i}),r.a.createElement(M.a.Body,null,r.a.createElement("div",null,r.a.createElement(y.a,{style:{fontSize:"14px"}},r.a.createElement(y.a.Item,{style:{flex:1}},Object(E.e)(n.order.price,9,4)),r.a.createElement(y.a.Item,{style:{flex:1}},Object(E.e)(n.order.value,18,4))))),r.a.createElement(M.a.Footer,{content:Object(E.b)(new Date(1e3*n.order.updateTime)),extra:r.a.createElement("span",null,r.a.createElement("a",{onClick:function(){N("KYC",r.a.createElement("span",null,n.hcode,", ",n.ecode),[{text:S.a.e().modal.cancel,onPress:function(){return console.log("cancel")}},{text:S.a.e().modal.ok,onPress:function(){return console.log("ok")}}])}},"KYC"))})),r.a.createElement(h.a,{size:"sm"}))})),a=this.props.back;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(j.a,{onClick:function(){a()}},"\u8fd4\u56de"),r.a.createElement(h.a,null)),n)}}]),n}(a.Component),A=v.a.alert,D=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e,{orders:[],order:null})}return Object(s.a)(n,[{key:"_componentDidMount",value:function(e){var t=this;t.init(e),t.timer=setInterval((function(){t.init()}),1e4)}},{key:"init",value:function(e){var t=this;e||(e=this.state.mainPKr),k.a.businessOrders(e,"",0,!0,(function(n){if(n.sort((function(e,t){return t.order.timestemp-e.order.timestemp})),n.length>0){var a=new Map;n.forEach((function(e){e.childs=[],a.set(e.id,e)})),k.a.userOrders(e,!1,(function(e){if(e.length>0){var r=[];e.forEach((function(e){e.pkr="0x"+e.order.owner.slice(-40),r.push(e.pkr),a.get(e.order.businessOrderId).childs.push(e)})),k.a.getFullAddress(r,(function(a){e.forEach((function(e){e.pkr=a.result[e.pkr]})),t.setState({orders:n})}))}else t.setState({orders:n})}))}else t.setState({orders:[]})}))}},{key:"back",value:function(){this.setState({order:null})}},{key:"render",value:function(){var e=this,t=this,n=this.state.orders.map((function(n,a){var i=0,l=!0,u=0==n.order.status&&n.order.value>n.order.dealtValue;u&&n.childs&&n.childs.length>0&&n.childs.map((function(e,t){1!=e.order.status&&2!=e.order.status||(l=!1,i++)}));var s="\u8fdb\u884c\u4e2d";return u||(l=!1,s=4==n.order.status?"\u5df2\u53d6\u6d88":"\u5df2\u5b8c\u6210"),r.a.createElement(T.a.Item,{key:a},r.a.createElement(y.a,{style:{fontSize:"12px"}},r.a.createElement(y.a.Item,{style:{flex:1}},n.id),r.a.createElement(y.a.Item,{style:{flex:2}},0==n.order.orderType?S.a.e().order.buy:S.a.e().order.sell,Object(E.a)(n.order.token)),r.a.createElement(y.a.Item,{style:{flex:1}},Object(E.e)(n.order.price,9,4)),r.a.createElement(y.a.Item,{style:{flex:1}},Object(E.e)(n.order.value,18,4)),r.a.createElement(y.a.Item,{style:{flex:1}},i),r.a.createElement(y.a.Item,{style:{flex:1}},l?r.a.createElement("a",{onClick:function(){A(S.a.e().order.cancel,r.a.createElement("span",null,"ID:",n.id),[{text:S.a.e().modal.cancel,onPress:function(){return console.log("cancel")}},{text:S.a.e().modal.ok,onPress:function(){k.a.businessCancel(e.state.pk,e.state.mainPKr,n.id)}}])}},"\u64a4\u6d88"):s),r.a.createElement(y.a.Item,{style:{flex:1,textAlign:"right"}},r.a.createElement("a",{onClick:function(){t.setState({order:n})}},r.a.createElement(O.a,{type:"right"})))))}));return r.a.createElement("div",{className:"ui bottom attached segment"},null!=this.state.order?r.a.createElement(V,{order:this.state.order,back:this.back.bind(this)}):r.a.createElement("div",null,r.a.createElement(T.a,{renderHeader:r.a.createElement(y.a,{style:{fontSize:"12px",fontWeight:"bold"}},r.a.createElement(y.a.Item,{style:{flex:1}},"ID"),r.a.createElement(y.a.Item,{style:{flex:2}},S.a.e().order.orderType),r.a.createElement(y.a.Item,{style:{flex:1}},S.a.e().order.price),r.a.createElement(y.a.Item,{style:{flex:1}},S.a.e().order.amount),r.a.createElement(y.a.Item,{style:{flex:1}},"\u5904\u7406\u4e2d"),r.a.createElement(y.a.Item,{style:{flex:1}},"\u64cd\u4f5c"),r.a.createElement(y.a.Item,{style:{flex:1}}))},n)))}}]),n}(P.a),_=(n(116),n(30)),B=n.n(_),R=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e,{sellOrders:[],buyOrders:[],token:k.a.tokenList()[0],unit:0})}return Object(s.a)(n,[{key:"_componentDidMount",value:function(e){var t=this;t.init(e,this.state.token),t.timer=setInterval((function(){t.init()}),1e4)}},{key:"_componentWillReceiveProps",value:function(e){e.orderType!=this.props.orderType&&this.setState({orderType:e.orderType})}},{key:"init",value:function(e,t){var n=this;if(t||(t=this.state.token),t){var a=this;k.a.init.then((function(){k.a.businessOrders(n.state.mainPKr,t,n.state.unit,!1,(function(e){var t=[],n=[];(e=e.filter((function(e){return 0==e.order.status&&parseInt(e.order.value)>parseInt(e.order.dealtValue)}))).forEach((function(e){0==e.order.orderType?n.push(e):t.push(e)})),a.setState({sellOrders:t,buyOrders:n})}))}))}}},{key:"render",value:function(){var e,t,n=this,a=this.props.orderType;0==a?(t=1,e=this.state.buyOrders):(t=1.005,e=this.state.sellOrders);var i=e.map((function(e,t){return r.a.createElement(T.a.Item,{key:t},r.a.createElement(y.a,null,r.a.createElement(y.a.Item,null,Object(E.e)(e.order.price,9,4)),r.a.createElement(y.a.Item,null,Object(E.e)(e.order.value-e.order.dealtValue,18,4)),r.a.createElement(y.a.Item,null,Object(E.e)(e.order.minDealValue,18,4),"-",Object(E.e)(e.order.maxDealValue,18,4))))})),l=k.a.tokenList().map((function(e,t){return r.a.createElement("div",{className:"item",key:t},r.a.createElement("a",{style:n.state.token==e?{fontWeight:"bold",color:"black"}:{},onClick:function(){n.setState({token:e}),n.init(n.state.mainPKr,e)}},e))}));return r.a.createElement("div",{className:"ui bottom attached segment"},r.a.createElement("div",{className:"ui small horizontal divided list"},l),r.a.createElement(h.a,null),r.a.createElement("div",{className:"ui icon input",style:{width:"100%"}},r.a.createElement("input",{disabled:!0,type:"text",placeholder:"Price",ref:function(e){return n.priceValue=e},value:t,onChange:function(e){var t=e.target.value;t&&(t=t.match(/^\d*(\.?\d{0,4})/g)[0]||null)}}),r.a.createElement("i",{className:"icon",style:{top:"12px"}},"CNY")),r.a.createElement(h.a,null),r.a.createElement("div",{className:"ui icon input",style:{width:"100%"}},r.a.createElement("input",{type:"text",placeholder:"Amount",ref:function(e){return n.countValue=e},onChange:function(e){var t=e.target.value;t&&(t=t.match(/^\d*(\.?\d{0,4})/g)[0]||null),n.countValue.value=t,n.minValue.value=0,n.maxValue.value=t}}),r.a.createElement("i",{className:"icon",style:{top:"12px"}},this.state.token)),r.a.createElement(h.a,null),r.a.createElement(y.a,{style:{textAlign:"center"}},r.a.createElement(y.a.Item,null,r.a.createElement("div",{className:"ui icon input",style:{width:"100%"}},r.a.createElement("input",{disabled:!0,type:"text",placeholder:"MIN",style:{paddingRight:"10px"},ref:function(e){return n.minValue=e},onChange:function(e){var t=e.target.value;t&&(t=t.match(/^\d*(\.?\d{0,4})/g)[0]||null),n.minValue.value=t}}),r.a.createElement("i",{className:"icon",style:{top:"12px"}},this.state.token))),r.a.createElement(y.a.Item,null,r.a.createElement("div",{className:"ui icon input",style:{width:"100%"}},r.a.createElement("input",{disabled:!0,type:"text",placeholder:"MAX",style:{paddingLeft:"10px"},ref:function(e){return n.maxValue=e},onChange:function(e){var t=e.target.value;t&&(t=t.match(/^\d*(\.?\d{0,4})/g)[0]||null),n.maxValue.value=t}}),r.a.createElement("i",{className:"icon",style:{top:"12px"}},this.state.token)))),r.a.createElement(h.a,null),r.a.createElement(y.a,null,r.a.createElement(y.a.Item,null,r.a.createElement(j.a,{onClick:function(){if(n.state.hasAudited){if(!n.countValue.value)return void B.a.fail("\u8bf7\u586b\u5199\u91d1\u989d\uff01");if(!n.priceValue.value)return void B.a.fail("\u8bf7\u586b\u5199\u4ef7\u683c\uff01");var e=new I.a(n.countValue.value).multipliedBy(new I.a(10).pow(18)),t=new I.a(n.minValue.value).multipliedBy(new I.a(10).pow(18)),r=new I.a(n.maxValue.value).multipliedBy(new I.a(10).pow(18)),i=new I.a(n.priceValue.value).multipliedBy(1e9);if(i.isZero())return void B.a.fail("price is zero");if(e.isZero())return void B.a.fail("value is zero");if(r.isZero())return void B.a.fail("max is zero");if(t.comparedTo(r)>0)return void B.a.fail("min must <= max");if(r.comparedTo(e)>0)return void B.a.fail("max must <= amount");1===a?k.a.businessSell(n.state.pk,n.state.mainPKr,n.state.token,e,t,r,i,n.state.unit):k.a.businessBuy(n.state.pk,n.state.mainPKr,n.state.token,e,t,r,i,n.state.unit)}else n.kyc(!0)}},0==a?"\u4e70\u5165":"\u5356\u51fa"))),e.length>0&&r.a.createElement(T.a,{renderHeader:function(){return"\u5e02\u573a\u6302\u5355"}},i))}}]),n}(P.a),H=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e,{showType:0,sellOrders:[],buyOrders:[]})}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"ui top attached tabular menu"},r.a.createElement("a",{className:0==this.state.showType?"active item":"item",onClick:function(){e.setState({showType:0})}},"\u5546\u5bb6\u4e70\u5165"),r.a.createElement("a",{className:1==this.state.showType?"active item":"item",onClick:function(){e.setState({showType:1})}},"\u5546\u5bb6\u5356\u51fa"),r.a.createElement("a",{className:2==this.state.showType?"active item":"item",onClick:function(){e.setState({showType:2})}},"\u5546\u5bb6\u8ba2\u5355")),this.state.showType<2?r.a.createElement(R,{pk:this.state.pk,orderType:this.state.showType}):r.a.createElement(D,{pk:this.state.pk}))}}]),n}(P.a),Y=v.a.alert,L=[100,200,500,1e3,5e3,1e4,3e4],z=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e,{sellOrders:[],buyOrders:[],token:k.a.tokenList()[0],unit:0,showSelect:!1})}return Object(s.a)(n,[{key:"_componentDidMount",value:function(e){var t=this;t.init(e,this.state.token),t.timer=setInterval((function(){t.init()}),2e4)}},{key:"init",value:function(e,t){var n=this;t||(t=this.state.token),t&&k.a.businessOrders(this.state.mainPKr,t,this.state.unit,!1,(function(e){var t=[],a=[],r=[];e.length>0?((e=e.filter((function(e){return 0==e.order.status&&parseInt(e.order.value)>parseInt(e.order.dealtValue)}))).forEach((function(e){e.pkr="0x"+e.order.owner.slice(-40),t.push(e.pkr)})),k.a.getFullAddress(t,(function(t){e.forEach((function(e){e.pkr=t.result[e.pkr],0==e.order.orderType?r.push(e):a.push(e)})),n.setState({sellOrders:a,buyOrders:r})}))):n.setState({sellOrders:[],buyOrders:[]})}))}},{key:"render",value:function(){var e,t=this,n=this.props.orderType,a=k.a.tokenList().map((function(e,n){return r.a.createElement("div",{className:"item",key:n},r.a.createElement("a",{style:t.state.token==e?{fontWeight:"bold",color:"black"}:{},onClick:function(){t.setState({token:e}),t.init(t.state.mainPKr,e)}},e))})),i=(e=0==n?this.state.buyOrders:this.state.sellOrders).map((function(e,a){return r.a.createElement(T.a.Item,{key:a},r.a.createElement("div",null,e.name),r.a.createElement(h.a,null),r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(y.a.Item,null,Object(E.e)(e.order.price,9,4)),r.a.createElement(y.a.Item,{style:{textAlign:"right"}},r.a.createElement("a",{onClick:function(){Y("\u8054\u7cfb\u65b9\u5f0f",r.a.createElement("span",null,e.hcode),[{text:S.a.e().modal.cancel,onPress:function(){return console.log("cancel")}},{text:S.a.e().modal.ok,onPress:function(){return console.log("ok")}}])}},"\u8054\u7cfb")))),r.a.createElement(h.a,null),r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(y.a.Item,null,r.a.createElement("div",null,"\u6570\u91cf:",Object(E.e)(e.order.value-e.order.dealtValue,18,4)),r.a.createElement("div",null,"\u9650\u989d:",Object(E.e)(e.order.minDealValue,18,0),"-",Object(E.e)(e.order.maxDealValue,18,4))),r.a.createElement(y.a.Item,{style:{textAlign:"right"}},r.a.createElement(j.a,{type:"ghost",inline:!0,size:"small",style:{marginRight:"4px"},onClick:function(){if(t.state.ecode){var a=L.map((function(t,n){if(new I.a(t).multipliedBy(new I.a(10).pow(18)).comparedTo(new I.a(e.order.value-e.order.dealtValue))<=0)return r.a.createElement("option",{key:n,value:t},t)}));v.a.alert(r.a.createElement("span",null,0==n?S.a.e().order.sell:S.a.e().order.buy),r.a.createElement("div",null,r.a.createElement("select",{className:"ui selection dropdown",ref:function(e){return t.amountValue=e},onChange:function(e){t.amountValue.value=e.target.value}},a)),[{text:"Cancel"},{text:"Ok",onPress:function(){var a=new I.a(t.amountValue.value).multipliedBy(new I.a(10).pow(18)).toNumber();if(0!=a)if(a>e.order.value-e.order.dealtValue)B.a.fail("\u8d85\u51fa\u53ef\u4ea4\u6613\u8303\u56f4!");else{var r=Object(E.c)();1==n?k.a.exchangeBuy(t.state.pk,t.state.mainPKr,r,e.id,a):k.a.exchangeSell(t.state.pk,t.state.mainPKr,r,e.id,t.state.token,a)}else B.a.fail("\u8f93\u5165\u91d1\u989d\u4e3a0")}}])}else t.kyc()}},0==n?S.a.e().order.sell:S.a.e().order.buy)))))}));return r.a.createElement("div",null,r.a.createElement("div",{className:"ui small horizontal divided list"},a),e.length>0&&r.a.createElement(T.a,{renderHeader:function(){return"\u5e02\u573a\u6302\u5355"}},i))}}]),n}(P.a),F=v.a.alert,W=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e,{orders:[]})}return Object(s.a)(n,[{key:"_componentDidMount",value:function(e){var t=this;t.init(e),t.timer=setInterval((function(){t.init()}),1e4)}},{key:"init",value:function(e){var t=this;e||(e=this.state.mainPKr),k.a.userOrders(e,!0,(function(e){e.sort((function(e,t){return t.order.updateTime-e.order.updateTime})),t.setState({orders:e})}))}},{key:"render",value:function(){var e=this,t=this,n=this.state.orders.map((function(n,a){var i="";if(1==n.order.status)i=S.a.e().order.tips1;else if(2==n.order.status){var l=new I.a(n.order.price).multipliedBy(n.order.value).dividedBy(new I.a(10).pow(27)).toNumber();i=0==n.order.orderType?S.a.e().order.tips2_0+l+"CNY":r.a.createElement("span",null,S.a.e().order.tips2_1,l,"CNY,",r.a.createElement("a",{onClick:function(){F(S.a.e().order.pass,r.a.createElement("span",null,"\u8bf7\u786e\u8ba4\u5df2\u7ecf\u6536\u5230\u5bf9\u65b9\u4ed8\u6b3e\uff0c\u5e94\u6536:",l,"CNY"),[{text:S.a.e().modal.cancel,onPress:function(){return console.log("cancel")}},{text:S.a.e().modal.ok,onPress:function(){k.a.finished(t.state.pk,t.state.mainPKr,n.id)}}])}},S.a.e().order.pass))}else 3==n.order.status?i=S.a.e().order.tips3:4==n.order.status?i=S.a.e().order.tips4:5==n.order.status&&(i=S.a.e().order.tips5);var u=r.a.createElement("span",null,i,1==n.order.status&&r.a.createElement("span",null,r.a.createElement("a",{onClick:function(){F(S.a.e().order.tips7,r.a.createElement("span",null,"ID:",n.id,",",S.a.e().order.tips6),[{text:S.a.e().modal.cancel,onPress:function(){return console.log("cancel")}},{text:S.a.e().modal.ok,onPress:function(){k.a.userCancel(e.state.pk,e.state.mainPKr,n.id)}}])}},",\u64a4\u6d88")));return r.a.createElement("div",{className:"item",key:a},r.a.createElement(h.a,null),r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(y.a.Item,{style:{flex:2}},0==n.order.orderType?S.a.e().order.buy:S.a.e().order.sell," ",Object(E.a)(n.order.token)),r.a.createElement(y.a.Item,{style:{flex:1}},"ID: ",n.id),r.a.createElement(y.a.Item,{style:{flex:3,textAlign:"right"}},u))),r.a.createElement(h.a,null),r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(y.a.Item,null,Object(E.e)(n.order.price,9,4),"CNY"),r.a.createElement(y.a.Item,null,2==n.order.status&&r.a.createElement("span",null,r.a.createElement("a",{onClick:function(){F("KYC",r.a.createElement("span",null,n.hcode,", ",n.ecode),[{text:S.a.e().modal.cancel,onPress:function(){return console.log("cancel")}},{text:S.a.e().modal.ok,onPress:function(){return console.log("ok")}}])}},"KYC")," |"),r.a.createElement("a",{onClick:function(){F(S.a.e().order.tips8,r.a.createElement("span",null,n.hcode),[{text:S.a.e().modal.cancel,onPress:function(){return console.log("cancel")}},{text:S.a.e().modal.ok,onPress:function(){return console.log("ok")}}])}},S.a.e().order.tips8)))),r.a.createElement(h.a,null),r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(y.a.Item,{style:{flex:2}},r.a.createElement("div",null,S.a.e().order.time),r.a.createElement("div",null,Object(E.b)(new Date(1e3*n.order.updateTime)))),r.a.createElement(y.a.Item,{style:{flex:1}},r.a.createElement("div",null,S.a.e().order.price),r.a.createElement("div",null,Object(E.e)(n.order.price,9,4))),r.a.createElement(y.a.Item,{style:{flex:1,textAlign:"right"}},r.a.createElement("div",null,S.a.e().order.amount),r.a.createElement("div",null,Object(E.e)(n.order.value,18,4))))))}));return r.a.createElement("div",{className:"ui divided list"},n)}}]),n}(P.a),U=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e,{orderType:0})}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"ui top attached tabular menu"},r.a.createElement("a",{className:1==this.state.orderType?"active item":"item",onClick:function(){e.setState({orderType:1})}},"\u4e70\u5165"),r.a.createElement("a",{className:0==this.state.orderType?"active item":"item",onClick:function(){e.setState({orderType:0})}},"\u5356\u51fa"),r.a.createElement("a",{className:2==this.state.orderType?"active item":"item",onClick:function(){e.setState({orderType:2})}},"\u8ba2\u5355")),r.a.createElement("div",{className:"ui bottom attached segment"},2==this.state.orderType?r.a.createElement(W,{pk:this.state.pk}):r.a.createElement(z,{pk:this.state.pk,orderType:this.state.orderType})))}}]),n}(P.a),J=(v.a.operation,function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(u.a)(this,n),a=t.call(this,e),localStorage.getItem("PK")?a.state={pk:localStorage.getItem("PK"),mainPKr:localStorage.getItem("MAINPKR"),codes:[]}:k.a.init.then((function(){k.a.accountList((function(e){localStorage.setItem("PK",e[0].pk),localStorage.setItem("MAINPKR",e[0].mainPKr),this.state={pk:e[0].pk,mainPKr:e[0].mainPKr,codes:[]}}))})),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;k.a.init.then((function(){k.a.auditingList(e.state.mainPKr,(function(t){e.setState({codes:t})}))}))}},{key:"render",value:function(){var e=this,t=this.state.codes.map((function(t,n){return r.a.createElement(T.a.Item,{key:n},r.a.createElement(y.a,null,r.a.createElement(y.a.Item,{style:{flex:3}},r.a.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},t.hcode)),r.a.createElement(y.a.Item,{style:{flex:1,textAlign:"right"}},r.a.createElement("a",{onClick:function(){v.a.alert("check",r.a.createElement("div",null,r.a.createElement("div",null,t.hcode),r.a.createElement("div",null,t.pcode)),[{text:"\u62d2\u7edd",onPress:function(){k.a.audited(e.state.pk,e.state.mainPKr,[t.hcode],!1)}},{text:"\u901a\u8fc7",onPress:function(){k.a.audited(e.state.pk,e.state.mainPKr,[t.hcode],!0)}}])}},"check"))))}));return r.a.createElement("div",{style:{border:"1px solid #d4d4d5",paddingTop:"10px"}},r.a.createElement(p.a,null,r.a.createElement(T.a,{renderHeader:function(){return"\u5ba1\u6838\u5217\u8868"},className:"my-list"},t)))}}]),n}(a.Component)),G=v.a.operation,Z=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={pk:localStorage.getItem("PK"),mainPKr:localStorage.getItem("MAINPKR"),showType:!0,isOwner:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;k.a.init.then((function(){var t=localStorage.getItem("PK");if(t){var n=localStorage.getItem("MAINPKR");k.a.auditor(n,(function(a){e.setState({pk:t,mainPKr:n,isOwner:n==a})}))}else k.a.accountList((function(t){localStorage.setItem("PK",t[0].pk),localStorage.setItem("MAINPKR",t[0].mainPKr),k.a.auditor(t[0].pk,(function(n){e.setState({pk:t[0].pk,mainPKr:t[0].mainPKr,isOwner:t[0].mainPKr==n})}))}))}))}},{key:"changAccount",value:function(){var e=this;k.a.init.then((function(){k.a.accountList((function(t){var n=[];t.forEach((function(t,a){n.push({text:r.a.createElement("span",null,t.name+":"+Object(E.d)(t.pk)),onPress:function(){k.a.auditor(t.mainPKr,(function(n){e.setState({isOwner:t.mainPKr==n})})),e.setState({pk:t.pk,name:t.name,mainPKr:t.mainPKr}),localStorage.setItem("PK",t.pk),localStorage.setItem("MAINPKR",t.mainPKr)}})})),G(n)}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement(p.a,null,r.a.createElement(h.a,null),r.a.createElement(y.a,null,r.a.createElement(y.a.Item,{style:{flex:85}},r.a.createElement("span",null,Object(E.d)(this.state.pk,12))),r.a.createElement(y.a.Item,{style:{flex:15}},r.a.createElement("div",null,r.a.createElement("a",{onClick:this.changAccount.bind(this)},S.a.e().change)))),r.a.createElement(h.a,null),r.a.createElement("div",null,r.a.createElement(y.a,{style:{textAlign:"center"}},r.a.createElement(y.a.Item,null,r.a.createElement("div",{className:"ui toggle checkbox"},r.a.createElement("input",{type:"checkbox",name:"public",onClick:function(){e.setState({showType:!e.state.showType})}}),r.a.createElement("label",null)))),r.a.createElement(h.a,null),this.state.showType?r.a.createElement(U,{pk:this.state.pk}):r.a.createElement(H,{pk:this.state.pk})),r.a.createElement(h.a,null),this.state.isOwner&&r.a.createElement(J,null))}}]),n}(a.Component),X=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(Z,null)}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return c}));var a=n(9),r=n.n(a);n(460);function i(){for(var e="0x",t=0;t<8;t++)e+=Math.random().toString(16).slice(-8);return e}function l(e){return e<10?"0"+e:e}function u(e){var t=e.getFullYear(),n=l(e.getMonth()+1),a=l(e.getDate()),r=l(e.getHours()),i=l(e.getMinutes());return"".concat(t,"/").concat(n,"/").concat(a," ").concat(r,":").concat(i)}function s(t){var n=e.from(t.substring(2),"hex");return String.fromCharCode.apply(String,n)}function o(e,t,n){return m(new r.a(e).dividedBy(new r.a(10).pow(t)).toFixed(n),n)}function c(e,t){return e?(t||(t=8),e.slice(0,t)+"..."+e.slice(-t)):""}function m(e,t){var n=e.split(".");if(n.length<2)return e;for(var a=-1,r=n[1],i=r.length-1;i>=0;i--)if("0"!=r.charAt(i)){a=i;break}r=r.substring(0,a+1);var l=n[0];return r.length>t&&(r=r.substring(0,t)),r.length>0&&(l+="."+r),l}}).call(this,n(12).Buffer)}},[[230,1,2]]]);
//# sourceMappingURL=main.8a079e38.chunk.js.map